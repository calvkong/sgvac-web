function showPopupModal(){$(".footer-popup-flyin.istock").addClass("show-pop"),$(".footer-popup-overlay").fadeIn("slow")}function hidePopupModal(){$(".footer-popup-flyin.istock").removeClass("show-pop"),$(".footer-popup-overlay").fadeOut("slow")}function _resizeSpecialItems(){var e=$("body.fullwidth.redesign-layout:not(.vertical-related) #similar.shutterstock > .eezyapi ul > li")[0],t=$("body.fullwidth.redesign-layout:not(.vertical-related) .special-items .eezyapi"),n=$(e).height()*2+21;$(t).height(n)}function searchBarWidth(){var e=$("body.fullwidth.redesign-layout .resource-media img").width()+42,t=$("body.fullwidth.redesign-layout .site-header .site-logo").width(),n=$("body.fullwidth.redesign-layout .site-header .search-term"),r=$("body.fullwidth.redesign-layout .site-header #search-form");$(n).width(e-t-46-5)}function repositionElements(){var e=$(window).width(),t=$("body.fullwidth.redesign-layout .resource-info .resource-tags"),n=$("body.fullwidth.redesign-layout .meta-cta-wrapper"),r=$("body.fullwidth.redesign-layout .resource-cta");enquire.register("screen and (max-width: 1350px)",{match:function(){$(r).prependTo($(".meta-cta-wrapper")).removeClass("below-img"),$(r).children(".download-resource-link").addClass("alt"),$(r).children(".social-cta").addClass("alt")},unmatch:function(){$(r).children(".download-resource-link").removeClass("alt"),$(r).children(".social-cta").removeClass("alt"),$(r).addClass("below-img")}}),enquire.register("screen and (max-width: 700px)",{match:function(){$(r).insertBefore($(".resource-extras-wrapper")),$(r).children(".download-resource-link").removeClass("alt")},unmatch:function(){$(r).prependTo($(".meta-cta-wrapper"))}});var i=$("body.fullwidth.narrow-content.redesign-layout .resource-info .resource-tags"),s=$("body.fullwidth.narrow-content.redesign-layout .meta-cta-wrapper"),o=$("body.fullwidth.narrow-content.redesign-layout .resource-cta");$(o).prependTo($(".meta-cta-wrapper")).removeClass("below-img"),$(o).children(".download-resource-link").addClass("alt"),$(o).children(".social-cta").addClass("alt")}function handleScroll(){var e=$(".info-section.resource-main-info .resource-media"),t=$(".info-section.resource-main-info .resource-info"),n=$(".info-section.resource-main-info .resource-info-scrollable"),r=0;n.css("height","auto");while(t.height()>e.height()&&r<500)n.css("height",n.height()-1),r+=1}function resizeRelatedCollections(){var e=$(".related-collections-wrapper .grid.items > li")[0],t=$(".related-collections-wrapper"),n=$(".related-collections-wrapper.two-row"),r=$(e).height();$(t).height(r+15),$(n).height(r*2+35)}function resizeSpecialItems(){var e=$("body:not(.vertical-related) .api-results.is--justified > li")[0],t=$("body:not(.vertical-related) .api-results-wrapper");if($("body:not(.vertical-related) .api-results-wrapper").hasClass("three-row"))var n=$(e).height()*3+0;else var n=$(e).height()*2+0;$(t).height(n);var r=$(".sponsored:not(.vertical-fix) .api-results.is--justified > li")[0],i=$(".sponsored:not(.vertical-fix) .api-results-wrapper"),s=$(r).height()*2;$(i).height(s);var o=$(".videezy-sponsored-grid > li")[0],u=$(".videezy-sponsored-grid").parent(".api-results-wrapper"),a=$(o).height()+14;$(u).height(a*2)}function generateUUID(){var e=(new Date).getTime();window.performance&&typeof window.performance.now=="function"&&(e+=performance.now());var t="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){var n=(e+Math.random()*16)%16|0;return e=Math.floor(e/16),(t=="x"?n:n&3|8).toString(16)});return t}function toggleCheckboxes(e){if(!document.getElementById)return;if(!document.getElementsByTagName)return;var t=e.getElementsByTagName("input");for(var n=0;n<t.length;n++)t[n].type=="checkbox"&&(t[n].checked=!t[n].checked)}function setLnb(){var e=new Date,t=new Date(e.getFullYear()+1,e.getMonth(),e.getDay()),n="lnb="+escape(e.toUTCString())+"; path=/;expires="+t.toUTCString();document.cookie=n}function hideTopBanner(){$(".top-banner").hide(),$.cookies.set("hideTopBanner","1")}function initSpinner(){$("body").append('<div id="spinner"></div>'),$("#spinner").hide()}function showSpinner(){$("#spinner").show()}function hideSpinner(){$("#spinner").fadeOut()}var set_sstk_errors=function(){$(".affiliate-shutterstock img:visible").off("error"),$(".affiliate-shutterstock img:visible").on("error",function(e){$.post("/clicks/sstk-error",{"image-url":$(this).attr("src"),search:$.cookies.get("most_recent_search")})})};$(document).ajaxComplete(function(){set_sstk_errors()}),function(e){var t={init:function(n){return this.each(function(){t.destroy.call(this),this.opt=e.extend(!0,{},e.fn.raty.defaults,n);var r=e(this),i=["number","readOnly","score","scoreName"];t._callback.call(this,i),this.opt.precision&&t._adjustPrecision.call(this),this.opt.number=t._between(this.opt.number,0,this.opt.numberMax),this.opt.path=this.opt.path||"",this.opt.path&&this.opt.path.slice(this.opt.path.length-1,this.opt.path.length)!=="/"&&(this.opt.path+="/"),this.stars=t._createStars.call(this),this.score=t._createScore.call(this),t._apply.call(this,this.opt.score);var s=this.opt.space?4:0,o=this.opt.width||this.opt.number*this.opt.size+this.opt.number*s;this.opt.cancel&&(this.cancel=t._createCancel.call(this),o+=this.opt.size+s),this.opt.readOnly?t._lock.call(this):(r.css("cursor","pointer"),t._binds.call(this)),this.opt.width!==!1&&r.css("width",o),t._target.call(this,this.opt.score),r.data({settings:this.opt,raty:!0})})},_adjustPrecision:function(){this.opt.targetType="score",this.opt.half=!0},_apply:function(e){e&&e>0&&(e=t._between(e,0,this.opt.number),this.score.val(e)),t._fill.call(this,e),e&&t._roundStars.call(this,e)},_between:function(e,t,n){return Math.min(Math.max(parseFloat(e),t),n)},_binds:function(){this.cancel&&t._bindCancel.call(this),t._bindClick.call(this),t._bindOut.call(this),t._bindOver.call(this)},_bindCancel:function(){t._bindClickCancel.call(this),t._bindOutCancel.call(this),t._bindOverCancel.call(this)},_bindClick:function(){var t=this,n=e(t);t.stars.on("click.raty",function(e){t.score.val(t.opt.half||t.opt.precision?n.data("score"):this.alt),t.opt.click&&t.opt.click.call(t,parseFloat(t.score.val()),e)})},_bindClickCancel:function(){var e=this;e.cancel.on("click.raty",function(t){e.score.removeAttr("value"),e.opt.click&&e.opt.click.call(e,null,t)})},_bindOut:function(){var n=this;e(this).on("mouseleave.raty",function(e){var r=parseFloat(n.score.val())||undefined;t._apply.call(n,r),t._target.call(n,r,e),n.opt.mouseout&&n.opt.mouseout.call(n,r,e)})},_bindOutCancel:function(){var t=this;t.cancel.on("mouseleave.raty",function(n){e(this).attr("src",t.opt.path+t.opt.cancelOff),t.opt.mouseout&&t.opt.mouseout.call(t,t.score.val()||null,n)})},_bindOverCancel:function(){var n=this;n.cancel.on("mouseover.raty",function(r){e(this).attr("src",n.opt.path+n.opt.cancelOn),n.stars.attr("src",n.opt.path+n.opt.starOff),t._target.call(n,null,r),n.opt.mouseover&&n.opt.mouseover.call(n,null)})},_bindOver:function(){var n=this,r=e(n),i=n.opt.half?"mousemove.raty":"mouseover.raty";n.stars.on(i,function(i){var s=parseInt(this.alt,10);if(n.opt.half){var o=parseFloat((i.pageX-e(this).offset().left)/n.opt.size),u=o>.5?1:.5;s=s-1+u,t._fill.call(n,s),n.opt.precision&&(s=s-u+o),t._roundStars.call(n,s),r.data("score",s)}else t._fill.call(n,s);t._target.call(n,s,i),n.opt.mouseover&&n.opt.mouseover.call(n,s,i)})},_callback:function(e){for(i in e)typeof this.opt[e[i]]=="function"&&(this.opt[e[i]]=this.opt[e[i]].call(this))},_createCancel:function(){var t=e(this),n=this.opt.path+this.opt.cancelOff,r=e("<img />",{src:n,alt:"x",title:this.opt.cancelHint,"class":"raty-cancel"});return this.opt.cancelPlace=="left"?t.prepend("&#160;").prepend(r):t.append("&#160;").append(r),r},_createScore:function(){return e("<input />",{type:"hidden",name:this.opt.scoreName}).appendTo(this)},_createStars:function(){var n=e(this);for(var r=1;r<=this.opt.number;r++){var i=t._getHint.call(this,r),s=this.opt.score&&this.opt.score>=r?"starOn":"starOff";s=this.opt.path+this.opt[s],e("<img />",{src:s,alt:r,title:i}).appendTo(this),this.opt.space&&n.append(r<this.opt.number?"&#160;":"")}return n.children("img")},_error:function(t){e(this).html(t),e.error(t)},_fill:function(e){var t=this,n=0;for(var r=1;r<=t.stars.length;r++){var i=t.stars.eq(r-1),s=t.opt.single?r==e:r<=e;if(t.opt.iconRange&&t.opt.iconRange.length>n){var o=t.opt.iconRange[n],u=o.on||t.opt.starOn,a=o.off||t.opt.starOff,f=s?u:a;r<=o.range&&i.attr("src",t.opt.path+f),r==o.range&&n++}else{var f=s?"starOn":"starOff";i.attr("src",this.opt.path+this.opt[f])}}},_getHint:function(e){var t=this.opt.hints[e-1];return t===""?"":t||e},_lock:function(){var n=parseInt(this.score.val(),10),r=n?t._getHint.call(this,n):this.opt.noRatedMsg;e(this).data("readonly",!0).css("cursor","").attr("title",r),this.score.attr("readonly","readonly"),this.stars.attr("title",r),this.cancel&&this.cancel.hide()},_roundStars:function(e){var t=(e-Math.floor(e)).toFixed(2);if(t>this.opt.round.down){var n="starOn";this.opt.halfShow&&t<this.opt.round.up?n="starHalf":t<this.opt.round.full&&(n="starOff"),this.stars.eq(Math.ceil(e)-1).attr("src",this.opt.path+this.opt[n])}},_target:function(n,r){if(this.opt.target){var i=e(this.opt.target);i.length===0&&t._error.call(this,"Target selector invalid or missing!"),this.opt.targetFormat.indexOf("{score}")<0&&t._error.call(this,'Template "{score}" missing!');var s=r&&r.type=="mouseover";n===undefined?n=this.opt.targetText:n===null?n=s?this.opt.cancelHint:this.opt.targetText:(this.opt.targetType=="hint"?n=t._getHint.call(this,Math.ceil(n)):this.opt.precision&&(n=parseFloat(n).toFixed(1)),!s&&!this.opt.targetKeep&&(n=this.opt.targetText)),n&&(n=this.opt.targetFormat.toString().replace("{score}",n)),i.is(":input")?i.val(n):i.html(n)}},_unlock:function(){e(this).data("readonly",!1).css("cursor","pointer").removeAttr("title"),this.score.removeAttr("readonly","readonly");for(var n=0;n<this.opt.number;n++)this.stars.eq(n).attr("title",t._getHint.call(this,n+1));this.cancel&&this.cancel.css("display","")},cancel:function(n){return this.each(function(){e(this).data("readonly")!==!0&&(t[n?"click":"score"].call(this,null),this.score.removeAttr("value"))})},click:function(n){return e(this).each(function(){e(this).data("readonly")!==!0&&(t._apply.call(this,n),this.opt.click||t._error.call(this,'You must add the "click: function(score, evt) { }" callback.'),this.opt.click.call(this,n,{type:"click"}),t._target.call(this,n))})},destroy:function(){return e(this).each(function(){var t=e(this),n=t.data("raw");n?t.off(".raty").empty().css({cursor:n.style.cursor,width:n.style.width}).removeData("readonly"):t.data("raw",t.clone()[0])})},getScore:function(){var t=[],n;return e(this).each(function(){n=this.score.val(),t.push(n?parseFloat(n):undefined)}),t.length>1?t:t[0]},readOnly:function(n){return this.each(function(){var r=e(this);r.data("readonly")!==n&&(n?(r.off(".raty").children("img").off(".raty"),t._lock.call(this)):(t._binds.call(this),t._unlock.call(this)),r.data("readonly",n))})},reload:function(){return t.set.call(this,{})},score:function(){return arguments.length?t.setScore.apply(this,arguments):t.getScore.call(this)},set:function(t){return this.each(function(){var n=e(this),r=n.data("settings"),i=e.extend({},r,t);n.raty(i)})},setScore:function(n){return e(this).each(function(){e(this).data("readonly")!==!0&&(t._apply.call(this,n),t._target.call(this,n))})}};e.fn.raty=function(n){if(t[n])return t[n].apply(this,Array.prototype.slice.call(arguments,1));if(typeof n=="object"||!n)return t.init.apply(this,arguments);e.error("Method "+n+" does not exist!")},e.fn.raty.defaults={cancel:!1,cancelHint:"Cancel this rating!",cancelOff:"cancel-off.png",cancelOn:"cancel-on.png",cancelPlace:"left",click:undefined,half:!1,halfShow:!0,hints:["bad","poor","regular","good","gorgeous"],iconRange:undefined,mouseout:undefined,mouseover:undefined,noRatedMsg:"Not rated yet!",number:5,numberMax:20,path:"",precision:!1,readOnly:!1,round:{down:.25,full:.6,up:.76},score:undefined,scoreName:"score",single:!1,size:16,space:!0,starHalf:"star-half.png",starOff:"star-off.png",starOn:"star-on.png",target:undefined,targetFormat:"{score}",targetKeep:!1,targetText:"",targetType:"hint",width:undefined}}(jQuery),window.Modernizr=function(e,t,n){function r(e){g.cssText=e}function i(e,t){return r(E.join(e+";")+(t||""))}function s(e,t){return typeof e===t}function o(e,t){return!!~(""+e).indexOf(t)}function u(e,t){for(var r in e){var i=e[r];if(!o(i,"-")&&g[i]!==n)return t=="pfx"?i:!0}return!1}function a(e,t,r){for(var i in e){var o=t[e[i]];if(o!==n)return r===!1?e[i]:s(o,"function")?o.bind(r||t):o}return!1}function f(e,t,n){var r=e.charAt(0).toUpperCase()+e.slice(1),i=(e+" "+x.join(r+" ")+r).split(" ");return s(t,"string")||s(t,"undefined")?u(i,t):(i=(e+" "+T.join(r+" ")+r).split(" "),a(i,t,n))}function l(){h.input=function(n){for(var r=0,i=n.length;r<i;r++)k[n[r]]=n[r]in y;return k.list&&(k.list=!!t.createElement("datalist")&&!!e.HTMLDataListElement),k}("autocomplete autofocus list placeholder max min multiple pattern required step".split(" ")),h.inputtypes=function(e){for(var r=0,i,s,o,u=e.length;r<u;r++)y.setAttribute("type",s=e[r]),i=y.type!=="text",i&&(y.value=b,y.style.cssText="position:absolute;visibility:hidden;",/^range$/.test(s)&&y.style.WebkitAppearance!==n?(d.appendChild(y),o=t.defaultView,i=o.getComputedStyle&&o.getComputedStyle(y,null).WebkitAppearance!=="textfield"&&y.offsetHeight!==0,d.removeChild(y)):/^(search|tel)$/.test(s)||(/^(url|email)$/.test(s)?i=y.checkValidity&&y.checkValidity()===!1:i=y.value!=b)),C[e[r]]=!!i;return C}("search tel url email datetime date month week time datetime-local number range color".split(" "))}var c="2.6.1",h={},p=!0,d=t.documentElement,v="modernizr",m=t.createElement(v),g=m.style,y=t.createElement("input"),b=":)",w={}.toString,E=" -webkit- -moz- -o- -ms- ".split(" "),S="Webkit Moz O ms",x=S.split(" "),T=S.toLowerCase().split(" "),N={},C={},k={},L=[],A=L.slice,O,M=function(e,n,r,i){var s,o,u,a=t.createElement("div"),f=t.body,l=f?f:t.createElement("body");if(parseInt(r,10))while(r--)u=t.createElement("div"),u.id=i?i[r]:v+(r+1),a.appendChild(u);return s=["&#173;",'<style id="s',v,'">',e,"</style>"].join(""),a.id=v,(f?a:l).innerHTML+=s,l.appendChild(a),f||(l.style.background="",d.appendChild(l)),o=n(a,e),f?a.parentNode.removeChild(a):l.parentNode.removeChild(l),!!o},_=function(t){var n=e.matchMedia||e.msMatchMedia;if(n)return n(t).matches;var r;return M("@media "+t+" { #"+v+" { position: absolute; } }",function(t){r=(e.getComputedStyle?getComputedStyle(t,null):t.currentStyle)["position"]=="absolute"}),r},D=function(){function e(e,i){i=i||t.createElement(r[e]||"div"),e="on"+e;var o=e in i;return o||(i.setAttribute||(i=t.createElement("div")),i.setAttribute&&i.removeAttribute&&(i.setAttribute(e,""),o=s(i[e],"function"),s(i[e],"undefined")||(i[e]=n),i.removeAttribute(e))),i=null,o}var r={select:"input",change:"input",submit:"form",reset:"form",error:"img",load:"img",abort:"img"};return e}(),P={}.hasOwnProperty,H;!s(P,"undefined")&&!s(P.call,"undefined")?H=function(e,t){return P.call(e,t)}:H=function(e,t){return t in e&&s(e.constructor.prototype[t],"undefined")},Function.prototype.bind||(Function.prototype.bind=function(e){var t=this;if(typeof t!="function")throw new TypeError;var n=A.call(arguments,1),r=function(){if(this instanceof r){var i=function(){};i.prototype=t.prototype;var s=new i,o=t.apply(s,n.concat(A.call(arguments)));return Object(o)===o?o:s}return t.apply(e,n.concat(A.call(arguments)))};return r}),N.draganddrop=function(){var e=t.createElement("div");return"draggable"in e||"ondragstart"in e&&"ondrop"in e},N.rgba=function(){return r("background-color:rgba(150,255,150,.5)"),o(g.backgroundColor,"rgba")},N.hsla=function(){return r("background-color:hsla(120,40%,100%,.5)"),o(g.backgroundColor,"rgba")||o(g.backgroundColor,"hsla")},N.multiplebgs=function(){return r("background:url(https://),url(https://),red url(https://)"),/(url\s*\(.*?){3}/.test(g.background)},N.backgroundsize=function(){return f("backgroundSize")},N.borderimage=function(){return f("borderImage")},N.borderradius=function(){return f("borderRadius")},N.boxshadow=function(){return f("boxShadow")},N.textshadow=function(){return t.createElement("div").style.textShadow===""},N.opacity=function(){return i("opacity:.55"),/^0.55$/.test(g.opacity)},N.cssanimations=function(){return f("animationName")},N.cssgradients=function(){var e="background-image:",t="gradient(linear,left top,right bottom,from(#9f9),to(white));",n="linear-gradient(left top,#9f9, white);";return r((e+"-webkit- ".split(" ").join(t+e)+E.join(n+e)).slice(0,-e.length)),o(g.backgroundImage,"gradient")},N.csstransforms=function(){return!!f("transform")},N.csstransforms3d=function(){var e=!!f("perspective");return e&&"webkitPerspective"in d.style&&M("@media (transform-3d),(-webkit-transform-3d){#modernizr{left:9px;position:absolute;height:3px;}}",function(t,n){e=t.offsetLeft===9&&t.offsetHeight===3}),e},N.csstransitions=function(){return f("transition")},N.video=function(){var e=t.createElement("video"),n=!1;try{if(n=!!e.canPlayType)n=new Boolean(n),n.ogg=e.canPlayType('video/ogg; codecs="theora"').replace(/^no$/,""),n.h264=e.canPlayType('video/mp4; codecs="avc1.42E01E"').replace(/^no$/,""),n.webm=e.canPlayType('video/webm; codecs="vp8, vorbis"').replace(/^no$/,"")}catch(r){}return n},N.audio=function(){var e=t.createElement("audio"),n=!1;try{if(n=!!e.canPlayType)n=new Boolean(n),n.ogg=e.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),n.mp3=e.canPlayType("audio/mpeg;").replace(/^no$/,""),n.wav=e.canPlayType('audio/wav; codecs="1"').replace(/^no$/,""),n.m4a=(e.canPlayType("audio/x-m4a;")||e.canPlayType("audio/aac;")).replace(/^no$/,"")}catch(r){}return n};for(var B in N)H(N,B)&&(O=B.toLowerCase(),h[O]=N[B](),L.push((h[O]?"":"no-")+O));return h.input||l(),h.addTest=function(e,t){if(typeof e=="object")for(var r in e)H(e,r)&&h.addTest(r,e[r]);else{e=e.toLowerCase();if(h[e]!==n)return h;t=typeof t=="function"?t():t,p&&(d.className+=" "+(t?"":"no-")+e),h[e]=t}return h},r(""),m=y=null,function(e,t){function n(e,t){var n=e.createElement("p"),r=e.getElementsByTagName("head")[0]||e.documentElement;return n.innerHTML="x<style>"+t+"</style>",r.insertBefore(n.lastChild,r.firstChild)}function r(){var e=g.elements;return typeof e=="string"?e.split(" "):e}function i(e){var t=v[e[p]];return t||(t={},d++,e[p]=d,v[d]=t),t}function s(e,n,r){n||(n=t);if(m)return n.createElement(e);r||(r=i(n));var s;return r.cache[e]?s=r.cache[e].cloneNode():c.test(e)?s=(r.cache[e]=r.createElem(e)).cloneNode():s=r.createElem(e),s.canHaveChildren&&!l.test(e)?r.frag.appendChild(s):s}function o(e,n){e||(e=t);if(m)return e.createDocumentFragment();n=n||i(e);var s=n.frag.cloneNode(),o=0,u=r(),a=u.length;for(;o<a;o++)s.createElement(u[o]);return s}function u(e,t){t.cache||(t.cache={},t.createElem=e.createElement,t.createFrag=e.createDocumentFragment,t.frag=t.createFrag()),e.createElement=function(n){return g.shivMethods?s(n,e,t):t.createElem(n)},e.createDocumentFragment=Function("h,f","return function(){var n=f.cloneNode(),c=n.createElement;h.shivMethods&&("+r().join().replace(/\w+/g,function(e){return t.createElem(e),t.frag.createElement(e),'c("'+e+'")'})+");return n}")(g,t.frag)}function a(e){e||(e=t);var r=i(e);return g.shivCSS&&!h&&!r.hasCSS&&(r.hasCSS=!!n(e,"article,aside,figcaption,figure,footer,header,hgroup,nav,section{display:block}mark{background:#FF0;color:#000}")),m||u(e,r),e}var f=e.html5||{},l=/^<|^(?:button|map|select|textarea|object|iframe|option|optgroup)$/i,c=/^<|^(?:a|b|button|code|div|fieldset|form|h1|h2|h3|h4|h5|h6|i|iframe|img|input|label|li|link|ol|option|p|param|q|script|select|span|strong|style|table|tbody|td|textarea|tfoot|th|thead|tr|ul)$/i,h,p="_html5shiv",d=0,v={},m;(function(){try{var e=t.createElement("a");e.innerHTML="<xyz></xyz>",h="hidden"in e,m=e.childNodes.length==1||function(){t.createElement("a");var e=t.createDocumentFragment();return typeof e.cloneNode=="undefined"||typeof e.createDocumentFragment=="undefined"||typeof e.createElement=="undefined"}()}catch(n){h=!0,m=!0}})();var g={elements:f.elements||"abbr article aside audio bdi canvas data datalist details figcaption figure footer header hgroup mark meter nav output progress section summary time video",shivCSS:f.shivCSS!==!1,supportsUnknownElements:m,shivMethods:f.shivMethods!==!1,type:"default",shivDocument:a,createElement:s,createDocumentFragment:o};e.html5=g,a(t)}(this,t),h._version=c,h._prefixes=E,h._domPrefixes=T,h._cssomPrefixes=x,h.mq=_,h.hasEvent=D,h.testProp=function(e){return u([e])},h.testAllProps=f,h.testStyles=M,d.className=d.className.replace(/(^|\s)no-js(\s|$)/,"$1$2")+(p?" js "+L.join(" "):""),h}(this,this.document),function(e,t,n){function r(e){return"[object Function]"==d.call(e)}function i(e){return"string"==typeof e}function s(){}function o(e){return!e||"loaded"==e||"complete"==e||"uninitialized"==e}function u(){var e=v.shift();m=1,e?e.t?h(function(){("c"==e.t?k.injectCss:k.injectJs)(e.s,0,e.a,e.x,e.e,1)},0):(e(),u()):m=0}function a(e,n,r,i,s,a,f){function l(t){if(!d&&o(c.readyState)&&(w.r=d=1,!m&&u(),c.onload=c.onreadystatechange=null,t)){"img"!=e&&h(function(){b.removeChild(c)},50);for(var r in T[n])T[n].hasOwnProperty(r)&&T[n][r].onload()}}var f=f||k.errorTimeout,c=t.createElement(e),d=0,g=0,w={t:r,s:n,e:s,a:a,x:f};1===T[n]&&(g=1,T[n]=[]),"object"==e?c.data=n:(c.src=n,c.type=e),c.width=c.height="0",c.onerror=c.onload=c.onreadystatechange=function(){l.call(this,g)},v.splice(i,0,w),"img"!=e&&(g||2===T[n]?(b.insertBefore(c,y?null:p),h(l,f)):T[n].push(c))}function f(e,t,n,r,s){return m=0,t=t||"j",i(e)?a("c"==t?E:w,e,t,this.i++,n,r,s):(v.splice(this.i++,0,e),1==v.length&&u()),this}function l(){var e=k;return e.loader={load:f,i:0},e}var c=t.documentElement,h=e.setTimeout,p=t.getElementsByTagName("script")[0],d={}.toString,v=[],m=0,g="MozAppearance"in c.style,y=g&&!!t.createRange().compareNode,b=y?c:p.parentNode,c=e.opera&&"[object Opera]"==d.call(e.opera),c=!!t.attachEvent&&!c,w=g?"object":c?"script":"img",E=c?"script":w,S=Array.isArray||function(e){return"[object Array]"==d.call(e)},x=[],T={},N={timeout:function(e,t){return t.length&&(e.timeout=t[0]),e}},C,k;k=function(e){function t(e){var e=e.split("!"),t=x.length,n=e.pop(),r=e.length,n={url:n,origUrl:n,prefixes:e},i,s,o;for(s=0;s<r;s++)o=e[s].split("="),(i=N[o.shift()])&&(n=i(n,o));for(s=0;s<t;s++)n=x[s](n);return n}function o(e,i,s,o,u){var a=t(e),f=a.autoCallback;a.url.split(".").pop().split("?").shift(),a.bypass||(i&&(i=r(i)?i:i[e]||i[o]||i[e.split("/").pop().split("?")[0]]),a.instead?a.instead(e,i,s,o,u):(T[a.url]?a.noexec=!0:T[a.url]=1,s.load(a.url,a.forceCSS||!a.forceJS&&"css"==a.url.split(".").pop().split("?").shift()?"c":n,a.noexec,a.attrs,a.timeout),(r(i)||r(f))&&s.load(function(){l(),i&&i(a.origUrl,u,o),f&&f(a.origUrl,u,o),T[a.url]=2})))}function u(e,t){function n(e,n){if(e){if(i(e))n||(f=function(){var e=[].slice.call(arguments);l.apply(this,e),c()}),o(e,f,t,0,u);else if(Object(e)===e)for(p in h=function(){var t=0,n;for(n in e)e.hasOwnProperty(n)&&t++;return t}(),e)e.hasOwnProperty(p)&&(!n&&!--h&&(r(f)?f=function(){var e=[].slice.call(arguments);l.apply(this,e),c()}:f[p]=function(e){return function(){var t=[].slice.call(arguments);e&&e.apply(this,t),c()}}(l[p])),o(e[p],f,t,p,u))}else!n&&c()}var u=!!e.test,a=e.load||e.both,f=e.callback||s,l=f,c=e.complete||s,h,p;n(u?e.yep:e.nope,!!a),a&&n(a)}var a,f,c=this.yepnope.loader;if(i(e))o(e,0,c,0);else if(S(e))for(a=0;a<e.length;a++)f=e[a],i(f)?o(f,0,c,0):S(f)?k(f):Object(f)===f&&u(f,c);else Object(e)===e&&u(e,c)},k.addPrefix=function(e,t){N[e]=t},k.addFilter=function(e){x.push(e)},k.errorTimeout=1e4,null==t.readyState&&t.addEventListener&&(t.readyState="loading",t.addEventListener("DOMContentLoaded",C=function(){t.removeEventListener("DOMContentLoaded",C,0),t.readyState="complete"},0)),e.yepnope=l(),e.yepnope.executeStack=u,e.yepnope.injectJs=function(e,n,r,i,a,f){var l=t.createElement("script"),c,d,i=i||k.errorTimeout;l.src=e;for(d in r)l.setAttribute(d,r[d]);n=f?u:n||s,l.onreadystatechange=l.onload=function(){!c&&o(l.readyState)&&(c=1,n(),l.onload=l.onreadystatechange=null)},h(function(){c||(c=1,n(1))},i),a?l.onload():p.parentNode.insertBefore(l,p)},e.yepnope.injectCss=function(e,n,r,i,o,a){var i=t.createElement("link"),f,n=a?u:n||s;i.href=e,i.rel="stylesheet",i.type="text/css";for(f in r)i.setAttribute(f,r[f]);o||(p.parentNode.insertBefore(i,p),h(n,0))}}(this,document),Modernizr.load=function(){yepnope.apply(window,[].slice.call(arguments,0))},function(){var e,t,n,r,i=[].indexOf||function(e){for(var t=0,n=this.length;t<n;t++)if(t in this&&this[t]===e)return t;return-1};e=jQuery,e.fn.disableClientSideValidations=function(){return ClientSideValidations.disable(this)},e.fn.enableClientSideValidations=function(){return this.filter(ClientSideValidations.selectors.forms).each(function(){return ClientSideValidations.enablers.form(this)}),this.filter(ClientSideValidations.selectors.inputs).each(function(){return ClientSideValidations.enablers.input(this)})},e.fn.resetClientSideValidations=function(){return this.filter(ClientSideValidations.selectors.forms).each(function(){return ClientSideValidations.reset(this)})},e.fn.validate=function(){return this.filter(ClientSideValidations.selectors.forms).each(function(){return e(this).enableClientSideValidations()})},e.fn.isValid=function(i){var s;return s=e(this[0]),s.is("form")?n(s,i):t(s,r(this[0].name,i))},r=function(e,t){return e=e.replace(/_attributes\]\[\d+\]/g,"_attributes][]"),t[e]||{}},n=function(t,n){var r;return t.trigger("form:validate:before.ClientSideValidations"),r=!0,t.find(":input:enabled:visible[data-validate]").each(function(){return e(this).isValid(n)||(r=!1),!0}),r?t.trigger("form:validate:pass.ClientSideValidations"):t.trigger("form:validate:fail.ClientSideValidations"),t.trigger("form:validate:after.ClientSideValidations"),r},t=function(t,n){var r,i,s,o,u,a,f;return t.trigger("element:validate:before.ClientSideValidations"),a=function(){return t.trigger("element:validate:pass.ClientSideValidations").data("valid",null)},o=function(e){return t.trigger("element:validate:fail.ClientSideValidations",e).data("valid",!1),!1},r=function(){return t.trigger("element:validate:after.ClientSideValidations").data("valid")!==!1},s=function(e){var r,i,s,u,a,f,l,c;u=!0;for(i in e){r=e[i];if(n[i]){c=n[i];for(f=0,l=c.length;f<l;f++){a=c[f];if(s=r.call(e,t,a)){u=o(s);break}}if(!u)break}}return u},i=t.attr("name").replace(/\[([^\]]*?)\]$/,"[_destroy]"),e("input[name='"+i+"']").val()==="1"?(a(),r()):t.data("changed")===!1?r():(t.data("changed",!1),u=ClientSideValidations.validators.local,f=ClientSideValidations.validators.remote,s(u)&&s(f)&&a(),r())},e(function(){return e(ClientSideValidations.selectors.forms).validate()}),window.ClientSideValidations===void 0&&(window.ClientSideValidations={}),window.ClientSideValidations.forms===void 0&&(window.ClientSideValidations.forms={}),window.ClientSideValidations.selectors={inputs:':input:not(button):not([type="submit"])[name]:visible:enabled',forms:"form[data-validate]"},window.ClientSideValidations.reset=function(t){var n,r;n=e(t),ClientSideValidations.disable(t),ClientSideValidations.disable(n.find(":input"));for(r in t.ClientSideValidations.settings.validators)t.ClientSideValidations.removeError(n.find("[name='"+r+"']"));return ClientSideValidations.enablers.form(t)},window.ClientSideValidations.disable=function(t){var n;return n=e(t),n.off(".ClientSideValidations"),n.removeData("valid"),n.removeData("changed"),n.filter(":input").each(function(){return e(this).removeAttr("data-validate")})},window.ClientSideValidations.enablers={form:function(t){var n,r,i,s;n=e(t),t.ClientSideValidations={settings:window.ClientSideValidations.forms[n.attr("id")],addError:function(e,n){return ClientSideValidations.formBuilders[t.ClientSideValidations.settings.type].add(e,t.ClientSideValidations.settings,n)},removeError:function(e){return ClientSideValidations.formBuilders[t.ClientSideValidations.settings.type].remove(e,t.ClientSideValidations.settings)}},s={"submit.ClientSideValidations":function(e){if(!n.isValid(t.ClientSideValidations.settings.validators))return e.preventDefault(),e.stopImmediatePropagation()},"ajax:beforeSend.ClientSideValidations":function(e){if(e.target===this)return n.isValid(t.ClientSideValidations.settings.validators)},"form:validate:after.ClientSideValidations":function(e){return ClientSideValidations.callbacks.form.after(n,e)},"form:validate:before.ClientSideValidations":function(e){return ClientSideValidations.callbacks.form.before(n,e)},"form:validate:fail.ClientSideValidations":function(e){return ClientSideValidations.callbacks.form.fail(n,e)},"form:validate:pass.ClientSideValidations":function(e){return ClientSideValidations.callbacks.form.pass(n,e)}};for(i in s)r=s[i],n.on(i,r);return n.find(ClientSideValidations.selectors.inputs).each(function(){return ClientSideValidations.enablers.input(this)})},input:function(t){var n,r,i,s,o,u;r=e(t),o=t.form,n=e(o),u={"focusout.ClientSideValidations":function(){return e(this).isValid(o.ClientSideValidations.settings.validators)},"change.ClientSideValidations":function(){return e(this).data("changed",!0)},"element:validate:after.ClientSideValidations":function(t){return ClientSideValidations.callbacks.element.after(e(this),t)},"element:validate:before.ClientSideValidations":function(t){return ClientSideValidations.callbacks.element.before(e(this),t)},"element:validate:fail.ClientSideValidations":function(t,n){var r;return r=e(this),ClientSideValidations.callbacks.element.fail(r,n,function(){return o.ClientSideValidations.addError(r,n)},t)},"element:validate:pass.ClientSideValidations":function(t){var n;return n=e(this),ClientSideValidations.callbacks.element.pass(n,function(){return o.ClientSideValidations.removeError(n)},t)}};for(s in u)i=u[s],r.filter(":not(:radio):not([id$=_confirmation])").each(function(){return e(this).attr("data-validate",!0)}).on(s,i);return r.filter(":checkbox").on("click.ClientSideValidations",function(){return e(this).isValid(o.ClientSideValidations.settings.validators),!0}),r.filter("[id$=_confirmation]").each(function(){var t,r,u,a;t=e(this),r=n.find("#"+this.id.match(/(.+)_confirmation/)[1]+":input");if(r[0]){u={"focusout.ClientSideValidations":function(){return r.data("changed",!0).isValid(o.ClientSideValidations.settings.validators)},"keyup.ClientSideValidations":function(){return r.data("changed",!0).isValid(o.ClientSideValidations.settings.validators)}},a=[];for(s in u)i=u[s],a.push(e("#"+t.attr("id")).on(s,i));return a}})}},window.ClientSideValidations.validators={all:function(){return jQuery.extend({},ClientSideValidations.validators.local,ClientSideValidations.validators.remote)},local:{presence:function(e,t){if(/^\s*$/.test(e.val()||""))return t.message},acceptance:function(e,t){var n;switch(e.attr("type")){case"checkbox":if(!e.attr("checked"))return t.message;break;case"text":if(e.val()!==(((n=t.accept)!=null?n.toString():void 0)||"1"))return t.message}},format:function(e,t){var n;n=this.presence(e,t);if(n){if(t.allow_blank===!0)return;return n}if(t["with"]&&!t["with"].test(e.val()))return t.message;if(t.without&&t.without.test(e.val()))return t.message},numericality:function(t,n){var r,i,s,o,u,a,f;f=jQuery.trim(t.val());if(!ClientSideValidations.patterns.numericality.test(f)){if(n.allow_blank===!0)return;return n.messages.numericality}if(n.only_integer&&!/^[+-]?\d+$/.test(f))return n.messages.only_integer;r={greater_than:">",greater_than_or_equal_to:">=",equal_to:"==",less_than:"<",less_than_or_equal_to:"<="},u=e(t[0].form);for(i in r){a=r[i];if(n[i]==null)continue;if(!isNaN(parseFloat(n[i]))&&isFinite(n[i]))s=n[i];else{if(u.find("[name*="+n[i]+"]").size()!==1)return;s=u.find("[name*="+n[i]+"]").val()}o=new Function("return "+f+" "+a+" "+s);if(!o())return n.messages[i]}if(n.odd&&!(parseInt(f,10)%2))return n.messages.odd;if(n.even&&parseInt(f,10)%2)return n.messages.even},length:function(e,t){var n,r,i,s,o,u,a,f;f=t.js_tokenizer||"split('')",a=(new Function("element","return (element.val()."+f+" || '').length"))(e),n={is:"==",minimum:">=",maximum:"<="},r={},r.message=t.is?t.messages.is:t.minimum?t.messages.minimum:void 0,o=this.presence(e,r);if(o){if(t.allow_blank===!0)return;return o}for(i in n){u=n[i];if(!t[i])continue;s=new Function("return "+a+" "+u+" "+t[i]);if(!s())return t.messages[i]}},exclusion:function(e,t){var n,r,s,o,u;r=this.presence(e,t);if(r){if(t.allow_blank===!0)return;return r}if(t["in"])if(u=e.val(),i.call(function(){var e,n,r,i;r=t["in"],i=[];for(e=0,n=r.length;e<n;e++)s=r[e],i.push(s.toString());return i}(),u)>=0)return t.message;if(t.range){n=t.range[0],o=t.range[1];if(e.val()>=n&&
e.val()<=o)return t.message}},inclusion:function(e,t){var n,r,s,o,u;r=this.presence(e,t);if(r){if(t.allow_blank===!0)return;return r}if(t["in"]){if(u=e.val(),i.call(function(){var e,n,r,i;r=t["in"],i=[];for(e=0,n=r.length;e<n;e++)s=r[e],i.push(s.toString());return i}(),u)>=0)return;return t.message}if(t.range){n=t.range[0],o=t.range[1];if(e.val()>=n&&e.val()<=o)return;return t.message}},confirmation:function(e,t){if(e.val()!==jQuery("#"+e.attr("id")+"_confirmation").val())return t.message},uniqueness:function(t,n){var r,i,s,o,u,a,f;s=t.attr("name");if(/_attributes\]\[\d/.test(s)){i=s.match(/^(.+_attributes\])\[\d+\](.+)$/),o=i[1],u=i[2],f=t.val();if(o&&u){r=t.closest("form"),a=!0,r.find(':input[name^="'+o+'"][name$="'+u+'"]').each(function(){if(e(this).attr("name")!==s){if(e(this).val()===f)return a=!1,e(this).data("notLocallyUnique",!0);if(e(this).data("notLocallyUnique"))return e(this).removeData("notLocallyUnique").data("changed",!0)}});if(!a)return n.message}}}},remote:{uniqueness:function(e,t){var n,r,i,s,o,u,a,f;i=ClientSideValidations.validators.local.presence(e,t);if(i){if(t.allow_blank===!0)return;return i}n={},n.case_sensitive=!!t.case_sensitive,t.id&&(n.id=t.id);if(t.scope){n.scope={},f=t.scope;for(r in f)o=f[r],a=e.attr("name").replace(/\[\w+\]$/,"["+r+"]"),u=jQuery("[name='"+a+"']"),jQuery("[name='"+a+"']:checkbox").each(function(){if(this.checked)return u=this}),u[0]&&u.val()!==o?(n.scope[r]=u.val(),u.unbind("change."+e.id).bind("change."+e.id,function(){return e.trigger("change.ClientSideValidations"),e.trigger("focusout.ClientSideValidations")})):n.scope[r]=o}/_attributes\]/.test(e.attr("name"))?(s=e.attr("name").match(/\[\w+_attributes\]/g).pop().match(/\[(\w+)_attributes\]/).pop(),s+=/(\[\w+\])$/.exec(e.attr("name"))[1]):s=e.attr("name"),t["class"]&&(s=t["class"]+"["+s.split("[")[1]),n[s]=e.val();if(jQuery.ajax({url:"/validators/uniqueness",data:n,async:!1,cache:!1}).status===200)return t.message}}},window.ClientSideValidations.formBuilders={"ActionView::Helpers::FormBuilder":{add:function(t,n,r){var i,s,o,u;return i=e(t[0].form),t.data("valid")!==!1&&i.find("label.message[for='"+t.attr("id")+"']")[0]==null&&(s=jQuery(n.input_tag),u=jQuery(n.label_tag),o=i.find("label[for='"+t.attr("id")+"']:not(.message)"),t.attr("autofocus")&&t.attr("autofocus",!1),t.before(s),s.find("span#input_tag").replaceWith(t),s.find("label.message").attr("for",t.attr("id")),u.find("label.message").attr("for",t.attr("id")),u.insertAfter(o),u.find("label#label_tag").replaceWith(o)),i.find("label.message[for='"+t.attr("id")+"']").text(r)},remove:function(t,n){var r,i,s,o,u;i=e(t[0].form),r=jQuery(n.input_tag).attr("class"),s=t.closest("."+r.replace(" ",".")),o=i.find("label[for='"+t.attr("id")+"']:not(.message)"),u=o.closest("."+r);if(s[0])return s.find("#"+t.attr("id")).detach(),s.replaceWith(t),o.detach(),u.replaceWith(o)}}},window.ClientSideValidations.patterns={numericality:/^(-|\+)?(?:\d+|\d{1,3}(?:,\d{3})+)(?:\.\d*)?$/},window.ClientSideValidations.callbacks={element:{after:function(e,t){},before:function(e,t){},fail:function(e,t,n,r){return n()},pass:function(e,t,n){return t()}},form:{after:function(e,t){},before:function(e,t){},fail:function(e,t){},pass:function(e,t){}}}}.call(this),function(e){function n(e){return typeof e=="object"?e:{top:e,left:e}}var t=e.scrollTo=function(t,n,r){e(window).scrollTo(t,n,r)};t.defaults={axis:"xy",duration:parseFloat(e.fn.jquery)>=1.3?0:1,limit:!0},t.window=function(t){return e(window)._scrollable()},e.fn._scrollable=function(){return this.map(function(){var t=this,n=!t.nodeName||e.inArray(t.nodeName.toLowerCase(),["iframe","#document","html","body"])!=-1;if(!n)return t;var r=(t.contentWindow||t).document||t.ownerDocument||t;return/webkit/i.test(navigator.userAgent)||r.compatMode=="BackCompat"?r.body:r.documentElement})},e.fn.scrollTo=function(r,i,s){return typeof i=="object"&&(s=i,i=0),typeof s=="function"&&(s={onAfter:s}),r=="max"&&(r=9e9),s=e.extend({},t.defaults,s),i=i||s.duration,s.queue=s.queue&&s.axis.length>1,s.queue&&(i/=2),s.offset=n(s.offset),s.over=n(s.over),this._scrollable().each(function(){function d(e){u.animate(c,i,s.easing,e&&function(){e.call(this,r,s)})}if(r==null)return;var o=this,u=e(o),a=r,l,c={},p=u.is("html,body");switch(typeof a){case"number":case"string":if(/^([+-]=?)?\d+(\.\d+)?(px|%)?$/.test(a)){a=n(a);break}a=e(a,this);if(!a.length)return;case"object":if(a.is||a.style)l=(a=e(a)).offset()}e.each(s.axis.split(""),function(e,n){var r=n=="x"?"Left":"Top",i=r.toLowerCase(),f="scroll"+r,v=o[f],m=t.max(o,n);if(l)c[f]=l[i]+(p?0:v-u.offset()[i]),s.margin&&(c[f]-=parseInt(a.css("margin"+r))||0,c[f]-=parseInt(a.css("border"+r+"Width"))||0),c[f]+=s.offset[i]||0,s.over[i]&&(c[f]+=a[n=="x"?"width":"height"]()*s.over[i]);else{var y=a[i];c[f]=y.slice&&y.slice(-1)=="%"?parseFloat(y)/100*m:y}s.limit&&/^\d+$/.test(c[f])&&(c[f]=c[f]<=0?0:Math.min(c[f],m)),!e&&s.queue&&(v!=c[f]&&d(s.onAfterFirst),delete c[f])}),d(s.onAfter)}).end()},t.max=function(t,n){var r=n=="x"?"Width":"Height",i="scroll"+r;if(!e(t).is("html,body"))return t[i]-e(t)[r.toLowerCase()]();var s="client"+r,o=t.ownerDocument.documentElement,u=t.ownerDocument.body;return Math.max(o[i],u[i])-Math.min(o[s],u[s])}}(jQuery),function(e){if(typeof exports=="object"&&typeof module!="undefined")module.exports=e();else if(typeof define=="function"&&define.amd)define([],e);else{var t;typeof window!="undefined"?t=window:typeof global!="undefined"?t=global:typeof self!="undefined"?t=self:t=this,t.Clipboard=e()}}(function(){var e,t,n;return function r(e,t,n){function i(o,u){if(!t[o]){if(!e[o]){var a=typeof require=="function"&&require;if(!u&&a)return a(o,!0);if(s)return s(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var l=t[o]={exports:{}};e[o][0].call(l.exports,function(t){var n=e[o][1][t];return i(n?n:t)},l,l.exports,r,e,t,n)}return t[o].exports}var s=typeof require=="function"&&require;for(var o=0;o<n.length;o++)i(n[o]);return i}({1:[function(e,t,n){var r=e("closest"),i=e("component-event"),s=["focus","blur"];n.bind=function(e,t,n,o,u){return s.indexOf(n)!==-1&&(u=!0),i.bind(e,n,function(n){var i=n.target||n.srcElement;n.delegateTarget=r(i,t,!0,e),n.delegateTarget&&o.call(e,n)},u)},n.unbind=function(e,t,n,r){s.indexOf(t)!==-1&&(r=!0),i.unbind(e,t,n,r)}},{closest:2,"component-event":4}],2:[function(e,t,n){var r=e("matches-selector");t.exports=function(e,t,n){var i=n?e:e.parentNode;while(i&&i!==document){if(r(i,t))return i;i=i.parentNode}}},{"matches-selector":3}],3:[function(e,t,n){function s(e,t){if(i)return i.call(e,t);var n=e.parentNode.querySelectorAll(t);for(var r=0;r<n.length;++r)if(n[r]==e)return!0;return!1}var r=Element.prototype,i=r.matchesSelector||r.webkitMatchesSelector||r.mozMatchesSelector||r.msMatchesSelector||r.oMatchesSelector;t.exports=s},{}],4:[function(e,t,n){var r=window.addEventListener?"addEventListener":"attachEvent",i=window.removeEventListener?"removeEventListener":"detachEvent",s=r!=="addEventListener"?"on":"";n.bind=function(e,t,n,i){return e[r](s+t,n,i||!1),n},n.unbind=function(e,t,n,r){return e[i](s+t,n,r||!1),n}},{}],5:[function(e,t,n){function r(){}r.prototype={on:function(e,t,n){var r=this.e||(this.e={});return(r[e]||(r[e]=[])).push({fn:t,ctx:n}),this},once:function(e,t,n){var r=this,i=function(){r.off(e,i),t.apply(n,arguments)};return this.on(e,i,n)},emit:function(e){var t=[].slice.call(arguments,1),n=((this.e||(this.e={}))[e]||[]).slice(),r=0,i=n.length;for(r;r<i;r++)n[r].fn.apply(n[r].ctx,t);return this},off:function(e,t){var n=this.e||(this.e={}),r=n[e],i=[];if(r&&t)for(var s=0,o=r.length;s<o;s++)r[s].fn!==t&&i.push(r[s]);return i.length?n[e]=i:delete n[e],this}},t.exports=r},{}],6:[function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}n.__esModule=!0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=function(){function e(t){i(this,e),this.resolveOptions(t),this.initSelection()}return e.prototype.resolveOptions=function(){var t=arguments.length<=0||arguments[0]===undefined?{}:arguments[0];this.action=t.action,this.emitter=t.emitter,this.target=t.target,this.text=t.text,this.trigger=t.trigger,this.selectedText=""},e.prototype.initSelection=function(){if(this.text&&this.target)throw new Error('Multiple attributes declared, use either "target" or "text"');if(this.text)this.selectFake();else{if(!this.target)throw new Error('Missing required attributes, use either "target" or "text"');this.selectTarget()}},e.prototype.selectFake=function(){var t=this;this.removeFake(),this.fakeHandler=document.body.addEventListener("click",function(){return t.removeFake()}),this.fakeElem=document.createElement("textarea"),this.fakeElem.style.position="absolute",this.fakeElem.style.left="-9999px",this.fakeElem.setAttribute("readonly",""),this.fakeElem.value=this.text,this.selectedText=this.text,document.body.appendChild(this.fakeElem),this.fakeElem.select(),this.copyText()},e.prototype.removeFake=function(){this.fakeHandler&&(document.body.removeEventListener("click"),this.fakeHandler=null),this.fakeElem&&(document.body.removeChild(this.fakeElem),this.fakeElem=null)},e.prototype.selectTarget=function(){if(this.target.nodeName==="INPUT"||this.target.nodeName==="TEXTAREA")this.target.select(),this.selectedText=this.target.value;else{var t=document.createRange(),n=window.getSelection();t.selectNodeContents(this.target),n.addRange(t),this.selectedText=n.toString()}this.copyText()},e.prototype.copyText=function(){var t=undefined;try{t=document.execCommand(this.action)}catch(n){t=!1}this.handleResult(t)},e.prototype.handleResult=function(t){t?this.emitter.emit("success",{action:this.action,text:this.selectedText,trigger:this.trigger,clearSelection:this.clearSelection.bind(this)}):this.emitter.emit("error",{action:this.action,trigger:this.trigger,clearSelection:this.clearSelection.bind(this)})},e.prototype.clearSelection=function(){this.target&&this.target.blur(),window.getSelection().removeAllRanges()},r(e,[{key:"action",set:function(){var t=arguments.length<=0||arguments[0]===undefined?"copy":arguments[0];this._action=t;if(this._action!=="copy"&&this._action!=="cut")throw new Error('Invalid "action" value, use either "copy" or "cut"')},get:function(){return this._action}},{key:"target",set:function(t){if(t!==undefined){if(!t||typeof t!="object"||t.nodeType!==1)throw new Error('Invalid "target" value, use a valid Element');this._target=t}},get:function(){return this._target}}]),e}();n["default"]=s,t.exports=n["default"]},{}],7:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.__esModule=!0;var o=e("./clipboard-action"),u=r(o),a=e("delegate-events"),f=r(a),l=e("tiny-emitter"),c=r(l),h="data-clipboard-",p=function(e){function t(n,r){i(this,t),e.call(this),this.resolveOptions(r),this.delegateClick(n)}return s(t,e),t.prototype.resolveOptions=function(){var t=arguments.length<=0||arguments[0]===undefined?{}:arguments[0];this.action=typeof t.action=="function"?t.action:this.setAction,this.target=typeof t.target=="function"?t.target:this.setTarget,this.text=typeof t.text=="function"?t.text:this.setText},t.prototype.delegateClick=function(t){var n=this;f["default"].bind(document.body,t,"click",function(e){return n.initialize(e)})},t.prototype.initialize=function(t){this.clipboardAction&&(this.clipboardAction=null),this.clipboardAction=new u["default"]({action:this.action(t.delegateTarget),target:this.target(t.delegateTarget),text:this.text(t.delegateTarget),trigger:t.delegateTarget,emitter:this})},t.prototype.setAction=function(t){if(!t.hasAttribute(h+"action"))return;return t.getAttribute(h+"action")},t.prototype.setTarget=function(t){if(!t.hasAttribute(h+"target"))return;var n=t.getAttribute(h+"target");return document.querySelector(n)},t.prototype.setText=function(t){if(!t.hasAttribute(h+"text"))return;return t.getAttribute(h+"text")},t}(c["default"]);n["default"]=p,t.exports=n["default"]},{"./clipboard-action":6,"delegate-events":1,"tiny-emitter":5}]},{},[7])(7)}),$(function(){if(document.referrer.indexOf(window.location.hostname)!=-1)var e=document.referrer.replace(/^[^:]+:\/\/[^/]+/,"").replace(/#.*/,"");e=="/free-gift"&&$.cookies.get("hidePopupModal")!="1"&&showPopupModal(),$(document).ready(function(){new Clipboard("#istock-btn-copy")});var t=$(".footer-popup-flyin.istock .popup-instructions"),n=$(".footer-popup-flyin.istock .before-action"),r=$(".footer-popup-flyin.istock .after-action"),i=$("#istock-promo-code");$("#istock-btn-copy").on("click",function(){$(this).text("Copied!"),$(this).addClass("copied"),$(i).addClass("boyoyoing").select(),$(t).slideDown("slow"),$(n).hide("fast"),$(r).show("fast")}),$(".toggle-instructions").on("click",function(e){$(t).slideToggle("slow"),$(n).hide("fast"),$(r).show("fast"),e.preventDefault()}),$(".footer-popup-flyin.istock .popup-closure").on("click",function(e){hidePopupModal(),e.preventDefault()})}),$(function(){function e(){var e=$(window).width();$("#masthead .content").prepend('<span class="toggle-nav"></span>'),$(".toggle-nav").on("click",function(e){$("#main-nav nav > ul:not(.aside):not(.en)").toggleClass("show-nav"),$(".site-header .search-form").toggleClass("show-search"),$(".site-header #masthead .logged-out").toggleClass("show-logged-out"),$("body").toggleClass("no-scroll"),e.preventDefault()}),$(".site-header #main-nav nav ul.aside li.with-sub a").on("click",function(e){$(this).next("ul").toggleClass("show-user-nav")}),$(".site-header #main-nav nav ul.aside li.with-sub").length&&$(".site-header #masthead .logged-out").css({"margin-right":"65px"});var t=$("body.premium.about #body .content #get-started.join section.plans .columns .column"),n=$(t).children("ul, .divider, .empty-container");t.append('<span class="toggle-plan-features">Plan Details</span>'),$(".toggle-plan-features").on("click",function(e){$(this).parent().children("ul, .divider").slideToggle("slow",function(){$(this).addClass("show-plan-details")}),e.preventDefault()})}function t(){var e=$(window).width();$(".site-header #masthead .logged-out").length&&e<=440?$(".site-header #main-nav nav ul:not(.aside):not(.en)").css({top:"113px"}):e>440&&e<=900&&$(".site-header #main-nav nav ul:not(.aside):not(.en)").css({top:"58px"})}$("body:not(.admin):not(.account-edit):not(.resource-share):not(.premium.join)")&&(e(),t()),$(window).resize(function(){$("body:not(.admin):not(.account-edit):not(.resource-share):not(.premium.join)")&&t()});var n=$(".pricing-table .pricing-plan .pricing-plan__header"),r=$(".pricing-table .pricing-plan .pricing-plan__features");$('<span class="toggle-features">Plan Details</span>').insertAfter(n),$(".toggle-features").on("click",function(e){$(this).next(r).slideToggle("slow",function(){$(this).addClass("show-features")}),e.preventDefault()})}),function(e){function s(n){function c(t){var n=f.gutterX,i=f.gutterY,s=f.cellH,o=f.cellW,l=e(t),c=l.find(l.attr("data-handle"));r.setDraggable(t,{handle:c[0],onStart:function(e){a.animate&&r.transition&&r.setTransition(this,""),l.css("z-index",9999).addClass("fw-float"),a.onBlockDrag.call(t,e)},onDrag:function(e,n){var r=l.position(),i=Math.round(r.top/s),c=Math.round(r.left/o),h=Math.round(l.width()/o),p=Math.round(l.height()/s);i=Math.min(Math.max(0,i),f.limitRow-p),c=Math.min(Math.max(0,c),f.limitCol-h),u.setHoles({top:i,left:c,width:h,height:p}),u.refresh(),a.onBlockMove.call(t,e)},onDrop:function(n){var r=l.position(),i=Math.round(r.top/s),c=Math.round(r.left/o),h=Math.round(l.width()/o),p=Math.round(l.height()/s);i=Math.min(Math.max(0,i),f.limitRow-p),c=Math.min(Math.max(0,c),f.limitCol-h),l.removeClass("fw-float"),l.css({zIndex:"auto",top:i*s,left:c*o});var d,v,m,g;for(v=0;v<p;++v)for(d=0;d<h;++d)m=v+i+"-"+(d+c),g=f.matrix[m],g&&g!=1&&e("#"+g).removeAttr("data-position");f.holes={},l.attr({"data-width":l.width(),"data-height":l.height(),"data-position":i+"-"+c}),u.refresh(),a.onBlockDrop.call(t,n)}})}var s=e(n);s.css("position")=="static"&&s.css("position","relative");var o=Number.MAX_VALUE,u=this;r.totalGrid+=1;var a=e.extend({},r.defaultConfig),f={arguments:null,blocks:{},events:{},matrix:{},holes:{},cellW:0,cellH:0,cellS:1,filter:"",lastId:0,length:0,maxWoB:0,maxHoB:0,minWoB:o,minHoB:o,running:0,gutterX:15,gutterY:15,totalCol:0,totalRow:0,limitCol:666666,limitRow:666666,sortFunc:null,keepOrder:!1};a.runtime=f,f.totalGrid=r.totalGrid;var l=document.body.style;r.transition||(l.webkitTransition!=null||l.MozTransition!=null||l.msTransition!=null||l.OTransition!=null||l.transition!=null)&&(r.transition=!0),e.extend(u,{addCustomEvent:function(e,t){var n=f.events;return e=e.toLowerCase(),!n[e]&&(n[e]=[]),t.eid=n[e].length,n[e].push(t),this},appendBlock:function(t){var n=e(t).appendTo(s),o=null,u=[];f.arguments&&(e.isFunction(f.sortFunc)&&n.sort(f.sortFunc),n.each(function(e,t){t.index=++e,o=r.loadBlock(t,a),o&&u.push(o)}),i[a.engine](u,a),r.setWallSize(f,s),f.length=n.length,n.each(function(e,t){r.showBlock(t,a),(a.draggable||t.getAttribute("data-draggable"))&&c(t)}))},appendHoles:function(e){var t=[].concat(e),n={},r;for(r=0;r<t.length;++r)n=t[r],f.holes[n.top+"-"+n.left+"-"+n.width+"-"+n.height]=n;return this},container:s,destroy:function(){var t=s.find(a.selector).removeAttr("id"),n=null,r=[];t.each(function(t,n){$item=e(n);var r=1*$item.attr("data-width")||"",i=1*$item.attr("data-height")||"";$item.width(r).height(i).css({position:"static"})})},fillHoles:function(e){if(arguments.length==0)f.holes={};else{var t=[].concat(e),n={},r;for(r=0;r<t.length;++r)n=t[r],delete f.holes[n.top+"-"+n.left+"-"+n.width+"-"+n.height]}return this},filter:function(e){return f.filter=e,f.arguments&&this.refresh(),this},fireEvent:function(e,t,n){var r=f.events;e=e.toLowerCase();if(r[e]&&r[e].length)for(var i=0;i<r[e].length;++i)r[e][i].call(this,t,n);return this},fitHeight:function(e){var e=e?e:s.height()||t.height();this.fitZone("auto",e),f.arguments=arguments},fitWidth:function(e){var e=e?e:s.width()||t.width();this.fitZone(e,"auto"),f.arguments=arguments},fitZone:function(n,o){var l=s.find(a.selector).removeAttr("id"),h=null,p=[];o=o?o:s.height()||t.height(),n=n?n:s.width()||t.width(),f.arguments=arguments,r.resetGrid(f),r.adjustUnit(n,o,a),f.filter?(l.data("active",0),l.filter(f.filter).data("active",1)):l.data("active",1),e.isFunction(f.sortFunc)&&l.sort(f.sortFunc),l.each(function(t,n){var i=e(n);n.index=++t,h=r.loadBlock(n,a),h&&i.data("active")&&p.push(h)}),u.fireEvent("onGridReady",s,a),i[a.engine](p,a),r.setWallSize(f,s),u.fireEvent("onGridArrange",s,a),f.length=l.length,l.each(function(e,t){r.showBlock(t,a),(a.draggable||t.getAttribute("data-draggable"))&&c(t)})},fixPos:function(t){return e(t.block).attr({"data-position":t.top+"-"+t.left}),this},fixSize:function(t){return t.height!=null&&e(t.block).attr({"data-height":t.height}),t.width!=null&&e(t.block).attr({"data-width":t.width}),this},prepend:function(e){return s.prepend(e),f.arguments&&this.refresh(),this},refresh:function(){var e=arguments.length?arguments:f.arguments,t=f.arguments,n=t?t.callee:this.fitWidth;return n.apply(this,Array.prototype.slice.call(e,0)),this},reset:function(t){return e.extend(a,t),this},setHoles:function(e){var t=[].concat(e),n={},r;f.holes={};for(r=0;r<t.length;++r)n=t[r],f.holes[n.top+"-"+n.left+"-"+n.width+"-"+n.height]=n;return this},sortBy:function(e){return f.sortFunc=e,f.arguments&&this.refresh(),this},unFilter:function(){return delete f.filter,this.refresh(),this}}),s.attr("data-min-width",Math.floor(t.width()/80)*80);for(var h in r.plugin)r.plugin.hasOwnProperty(h)&&r.plugin[h].call(u,a,s);t.resize(function(){if(f.running)return;f.running=1,setTimeout(function(){f.running=0,a.onResize.call(u,s)},122),s.attr("data-min-width",Math.floor(t.width()/80)*80)})}e.isNumeric==null&&(e.isNumeric=function(e){return e!=null&&e.constructor===Number}),e.isFunction==null&&(e.isFunction=function(e){return e!=null&&e instanceof Function});var t=e(window),n=e(document),r={defaultConfig:{animate:!1,cellW:100,cellH:100,delay:0,engine:"giot",fixSize:null,gutterX:15,gutterY:15,keepOrder:!1,selector:"> div",draggable:!1,cacheSize:!0,rightToLeft:!1,bottomToTop:!1,onGapFound:function(){},onComplete:function(){},onResize:function(){},onBlockDrag:function(){},onBlockMove:function(){},onBlockDrop:function(){},onBlockReady:function(){},onBlockFinish:function(){},onBlockActive:function(){},onBlockResize:function(){}},plugin:{},totalGrid:1,transition:!1,loadBlock:function(t,n){var r=n.runtime,i=r.gutterX,s=r.gutterY,o=r.cellH,u=r.cellW,a=null,f=e(t),l=f.data("active"),c=f.attr("data-position"),h=parseInt(f.attr("data-fixSize")),p=r.lastId++ +"-"+r.totalGrid;if(f.hasClass("fw-float"))return null;f.attr({id:p,"data-delay":t.index}),n.animate&&this.transition&&this.setTransition(t,""),isNaN(h)&&(h=null),h==null&&(h=n.fixSize);var d=h?"ceil":"round";f.attr("data-height")==null&&f.attr("data-height",f.height()),f.attr("data-width")==null&&f.attr("data-width",f.width());var v=1*f.attr("data-height"),m=1*f.attr("data-width");n.cacheSize||(t.style.width="",m=f.width(),t.style.height="",v=f.height());var g=m?Math[d]((m+i)/u):0,y=v?Math[d]((v+s)/o):0;!h&&n.cellH=="auto"&&(f.width(u*g-i),t.style.height="",v=f.height(),y=v?Math.round((v+s)/o):0),!h&&n.cellW=="auto"&&(f.height(o*y-s),t.style.width="",m=f.width(),g=m?Math.round((m+i)/u):0);if(h!=null&&(g>r.limitCol||y>r.limitRow))a=null;else{y&&y<r.minHoB&&(r.minHoB=y),g&&g<r.minWoB&&(r.minWoB=g),y>r.maxHoB&&(r.maxHoB=y),g>r.maxWoB&&(r.maxWoB=g),m==0&&(g=0),v==0&&(y=0),a={resize:!1,id:p,width:g,height:y,fixSize:h};if(c){c=c.split("-"),a.y=1*c[0],a.x=1*c[1],a.width=h!=null?g:Math.min(g,r.limitCol-a.x),a.height=h!=null?y:Math.min(y,r.limitRow-a.y);var b=a.y+"-"+a.x+"-"+a.width+"-"+a.height;l?(r.holes[b]={id:a.id,top:a.y,left:a.x,width:a.width,height:a.height},this.setBlock(a,n)):delete r.holes[b]}}return f.attr("data-state")==null?f.attr("data-state","init"):f.attr("data-state","move"),n.onBlockReady.call(t,a,n),c&&l?null:a},setBlock:function(e,t){var n=t.runtime,r=n.gutterX,i=n.gutterY,s=e.height,o=e.width,u=n.cellH,a=n.cellW,f=e.x,l=e.y;t.rightToLeft&&(f=n.limitCol-f-o),t.bottomToTop&&(l=n.limitRow-l-s);var c={fixSize:e.fixSize,resize:e.resize,top:l*u,left:f*a,width:a*o-r,height:u*s-i};return c.top=1*c.top.toFixed(2),c.left=1*c.left.toFixed(2),c.width=1*c.width.toFixed(2),c.height=1*c.height.toFixed(2),e.id&&(n.blocks[e.id]=c),c},showBlock:function(t,n){function l(){a&&o.attr("data-state","start"),n.animate&&u.transition&&u.setTransition(t,f),r.length-=1;if(!s){var e=parseInt(t.style.height)||0,l=parseInt(t.style.width)||0,c=parseInt(t.style.left)||0,h=parseInt(t.style.top)||0;o[i]({left:c+l/2,top:h+e/2,width:0,height:0,opacity:0})}else s.fixSize&&(s.height=1*o.attr("data-height"),s.width=1*o.attr("data-width")),o.css({opacity:1,width:s.width,height:s.height}),o[i]({top:s.top,left:s.left}),o.attr("data-nested")!=null&&u.nestedGrid(t,n);n.onBlockFinish.call(t,s,n);if(r.length==0){var p=n.animate?500:0;t.delay=setTimeout(function(){n.onComplete.call(t,s,n)},p)}}var r=n.runtime,i=n.animate&&!this.transition?"animate":"css",s=r.blocks[t.id],o=e(t),u=this,a=o.attr("data-state")!="move",f=a?"width 0.5s, height 0.5s":"top 0.5s, left 0.5s, width 0.5s, height 0.5s, opacity 0.5s";t.delay&&clearTimeout(t.delay);if(o.hasClass("fw-float"))return;u.setTransition(t,""),t.style.position="absolute",n.onBlockActive.call(t,s,n),s&&s.resize&&n.onBlockResize.call(t,s,n),n.delay>0?t.delay=setTimeout(l,n.delay*o.attr("data-delay")):l()},nestedGrid:function(t,n){var r,i=e(t),o=n.runtime,u=i.attr("data-gutterX")||n.gutterX,a=i.attr("data-gutterY")||n.gutterY,f=i.attr("data-method")||"fitZone",l=i.attr("data-nested")||"> div",c=i.attr("data-cellH")||n.cellH,h=i.attr("data-cellW")||n.cellW,p=o.blocks[t.id];if(p){r=new s(i),r.reset({cellH:c,cellW:h,gutterX:1*u,gutterY:1*a,selector:l,cacheSize:!1});switch(f){case"fitHeight":r[f](p.height);break;case"fitWidth":r[f](p.width);break;case"fitZone":r[f](p.width,p.height)}}},adjustBlock:function(t,n){var r=n.runtime,i=r.gutterX,s=r.gutterY,o=e("#"+t.id),u=r.cellH,a=r.cellW;n.cellH=="auto"&&(o.width(t.width*a-i),o[0].style.height="",t.height=Math.round((o.height()+s)/u))},adjustUnit:function(t,n,r){var i=r.gutterX,s=r.gutterY,o=r.runtime,u=r.cellW,a=r.cellH;e.isFunction(u)&&(u=u(t)),u=1*u,!e.isNumeric(u)&&(u=1),e.isFunction(a)&&(a=a(n)),a=1*a,!e.isNumeric(a)&&(a=1);if(e.isNumeric(t)){u<1&&(u*=t);var f=Math.max(1,Math.floor(t/u));e.isNumeric(i)||(i=(t-f*u)/Math.max(1,f-1),i=Math.max(0,i)),f=Math.floor((t+i)/u),o.cellW=(t+i)/Math.max(f,1),o.cellS=o.cellW/u,o.gutterX=i,o.limitCol=f}if(e.isNumeric(n)){a<1&&(a*=n);var l=Math.max(1,Math.floor(n/a));e.isNumeric(s)||(s=(n-l*a)/Math.max(1,l-1),s=Math.max(0,s)),l=Math.floor((n+s)/a),o.cellH=(n+s)/Math.max(l,1),o.cellS=o.cellH/a,o.gutterY=s,o.limitRow=l}e.isNumeric(t)||(u<1&&(u=o.cellH),o.cellW=u!=1?u*o.cellS:1,o.gutterX=i,o.limitCol=666666),e.isNumeric(n)||(a<1&&(a=o.cellW),o.cellH=a!=1?a*o.cellS:1,o.gutterY=s,o.limitRow=666666),o.keepOrder=r.keepOrder},resetGrid:function(e){e.blocks={},e.length=0,e.cellH=0,e.cellW=0,e.lastId=1,e.matrix={},e.totalCol=0,e.totalRow=0},setDraggable:function(t,r){var i=!1,s={startX:0,startY:0,top:0,left:0,handle:null,onDrop:function(){},onDrag:function(){},onStart:function(){}};e(t).each(function(){function c(e){return e.stopPropagation(),e=e.originalEvent,e.touches&&(i=!0,e=e.changedTouches[0]),e.button!=2&&e.which!=3&&(t.onStart.call(u,e),t.startX=e.clientX,t.startY=e.clientY,t.top=parseInt(a.css("top"))||0,t.left=parseInt(a.css("left"))||0,n.bind("mouseup touchend",p),n.bind("mousemove touchmove",h)),!1}function h(e){e=e.originalEvent,i&&(e=e.changedTouches[0]),a.css({top:t.top-(t.startY-e.clientY),left:t.left-(t.startX-e.clientX)}),t.onDrag.call(u,e)}function p(e){e=e.originalEvent,i&&(e=e.changedTouches[0]),t.onDrop.call(u,e),n.unbind("mouseup touchend",p),n.unbind("mousemove touchmove",h)}var t=e.extend({},s,r),o=t.handle||this,u=this,a=e(u),f=e(o),l=a.css("position");l!="absolute"&&a.css("position","relative"),a.find("iframe, form, input, textarea, .ignore-drag").each(function(){e(this).on("touchstart mousedown",function(e){e.stopPropagation()})}),n.unbind("mouseup touchend",p),n.unbind("mousemove touchmove",h),f.unbind("mousedown touchstart").bind("mousedown touchstart",c)})},setTransition:function(t,n){var r=t.style,i=e(t);!this.transition&&i.stop?i.stop():r.webkitTransition!=null?r.webkitTransition=n:r.MozTransition!=null?r.MozTransition=n:r.msTransition!=null?r.msTransition=n:r.OTransition!=null?r.OTransition=n:r.transition=n},getFreeArea:function(e,t,n){var r=Math.min(e+n.maxHoB,n.limitRow),i=Math.min(t+n.maxWoB,n.limitCol),s=i,o=r,u=n.matrix;for(var a=e;a<o;++a)for(var f=t;f<i;++f)u[a+"-"+f]&&t<f&&f<s&&(s=f);for(var a=e;a<r;++a)for(var f=t;f<s;++f)u[a+"-"+f]&&e<a&&a<o&&(o=a);return{top:e,left:t,width:s-t,height:o-e}},setWallSize:function(e,t){var n=e.totalRow,r=e.totalCol,i=e.gutterY,s=e.gutterX,o=e.cellH,u=e.cellW,a=Math.max(0,u*r-s),f=Math.max(0,o*n-i);t.attr({"data-total-col":r,"data-total-row":n,"data-wall-width":Math.ceil(a),"data-wall-height":Math.ceil(f)}),e.limitCol<e.limitRow&&!t.attr("data-height")&&t.height(Math.ceil(f))}},i={giot:function(e,t){function w(e,t,n,r,i){for(var s=t;s<t+i;){for(var o=n;o<n+r;)p[s+"-"+o]=e,++o>a&&(a=o);++s>f&&(f=s)}}var n=t.runtime,i=n.limitRow,s=n.limitCol,o=0,u=0,a=n.totalCol,f=n.totalRow,l={},c=n.holes,h=null,p=n.matrix,d=Math.max(s,i),v=null,m=null,g=s<i?1:0,y=null,b=Math.min(s,i);for(var E in c)c.hasOwnProperty(E)&&w(c[E].id||!0,c[E].top,c[E].left,c[E].width,c[E].height);for(var S=0;S<d;++S){if(!e.length)break;g?u=S:o=S,y=null;for(var x=0;x<b;++x){if(!e.length)break;h=null,g?o=x:u=x;if(n.matrix[u+"-"+o])continue;v=r.getFreeArea(u,o,n);if(t.fixSize==null){if(y&&!g&&n.minHoB>v.height){y.height+=v.height,y.resize=!0,w(y.id,y.y,y.x,y.width,y.height),r.setBlock(y,t);continue}if(y&&g&&n.minWoB>v.width){y.width+=v.width,y.resize=!0,w(y.id,y.y,y.x,y.width,y.height),r.setBlock(y,t);continue}}if(n.keepOrder)h=e.shift(),h.resize=!0;else{for(var E=0;E<e.length;++E){if(e[E].height>v.height)continue;if(e[E].width>v.width)continue;h=e.splice(E,1)[0];break}if(h==null&&t.fixSize==null)for(var E=0;E<e.length;++E){if(e[E]["fixSize"]!=null)continue;h=e.splice(E,1)[0],h.resize=!0;break}}if(h!=null)h.resize&&(g?(h.width=v.width,t.cellH=="auto"&&r.adjustBlock(h,t),h.height=Math.min(h.height,v.height)):(h.height=v.height,h.width=Math.min(h.width,v.width))),l[h.id]={id:h.id,x:o,y:u,width:h.width,height:h.height,resize:h.resize,fixSize:h.fixSize},y=l[h.id],w(y.id,y.y,y.x,y.width,y.height),r.setBlock(y,t);else{var m={x:o,y:u,fixSize:0};if(g){m.width=v.width,m.height=0;var T=o-1,N=u;while(p[N+"-"+T])p[N+"-"+o]=!0,m.height+=1,N+=1}else{m.height=v.height,m.width=0;var N=u-1,T=o;while(p[N+"-"+T])p[u+"-"+T]=!0,m.width+=1,T+=1}t.onGapFound(r.setBlock(m,t),t)}}}n.matrix=p,n.totalRow=f,n.totalCol=a}};s.addConfig=function(t){e.extend(r.defaultConfig,t)},s.createEngine=function(t){e.extend(i,t)},s.createPlugin=function(t){e.extend(r.plugin,t)},s.getMethod=function(e){return r[e]},window.freewall=window.freewall=s}(window.Zepto||window.jQuery),!function(e,t,n){var r=window.matchMedia;"undefined"!=typeof module&&module.exports?module.exports=n(r):"function"==typeof define&&define.amd?define(function(){return t[e]=n(r)}):t[e]=n(r)}("enquire",this,function(e){"use strict";function t(e,t){var n,r=0,i=e.length;for(r;i>r&&(n=t(e[r],r),n!==!1);r++);}function n(e){return"[object Array]"===Object.prototype.toString.apply(e)}function r(e){return"function"==typeof e}function i(e){this.options=e,!e.deferSetup&&this.setup()}function s(t,n){this.query=t,this.isUnconditional=n,this.handlers=[],this.mql=e(t);var r=this;this.listener=function(e){r.mql=e,r.assess()},this.mql.addListener(this.listener)}function o(){if(!e)throw new Error("matchMedia not present, legacy browsers require a polyfill");this.queries={},this.browserIsIncapable=!e("only all").matches}return i.prototype={setup:function(){this.options.setup&&this.options.setup(),this.initialised=!0},on:function(){!this.initialised&&this.setup(),this.options.match&&this.options.match()},off:function(){this.options.unmatch&&this.options.unmatch()},destroy:function(){this.options.destroy?this.options.destroy():this.off()},equals:function(e){return this.options===e||this.options.match===e}},s.prototype={addHandler:function(e){var t=new i(e);this.handlers.push(t),this.matches()&&t.on()},removeHandler:function(e){var n=this.handlers;t(n,function(t,r){return t.equals(e)?(t.destroy(),!n.splice(r,1)):void 0})},matches:function(){return this.mql.matches||this.isUnconditional},clear:function(){t(this.handlers,function(e){e.destroy()}),this.mql.removeListener(this.listener),this.handlers.length=0},assess:function(){var e=this.matches()?"on":"off";t(this.handlers,function(t){t[e]()})}},o.prototype={register:function(e,i,o){var u=this.queries,a=o&&this.browserIsIncapable;return u[e]||(u[e]=new s(e,a)),r(i)&&(i={match:i}),n(i)||(i=[i]),t(i,function(t){r(t)&&(t={match:t}),u[e].addHandler(t)}),this},unregister:function(e,t){var n=this.queries[e];return n&&(t?n.removeHandler(t):(n.clear(),delete this.queries[e])),this}},new o}),window.Socialite=function(e,t,n){"use strict";var r=0,i=[],s={},o={},u=/^($|loaded|complete)/,a=e.encodeURIComponent,f={settings:{},trim:function(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")},hasClass:function(e,t){return(" "+e.className+" ").indexOf(" "+t+" ")!==-1},addClass:function(e,t){f.hasClass(e,t)||(e.className=e.className===""?t:e.className+" "+t)},removeClass:function(e,t){e.className=f.trim(" "+e.className+" ".replace(" "+t+" "," "))},extendObject:function(e,t,r){for(var i in t){var s=e[i]!==n;if(s&&typeof t[i]=="object")f.extendObject(e[i],t[i],r);else if(r||!s)e[i]=t[i]}},getElements:function(e,t){var n=0,r=[],i=!!e.getElementsByClassName,s=i?e.getElementsByClassName(t):e.getElementsByTagName("*");for(;n<s.length;n++)(i||f.hasClass(s[n],t))&&r.push(s[n]);return r},getDataAttributes:function(e,t,n){var r=0,i="",s={},o=e.attributes;for(;r<o.length;r++){var u=o[r].name,f=o[r].value;f.length&&u.indexOf("data-")===0&&(t&&(u=u.substring(5)),n?s[u]=f:i+=a(u)+"="+a(f)+"&")}return n?
s:i},copyDataAttributes:function(e,t,n,r){var i=f.getDataAttributes(e,n,!0);for(var s in i)t.setAttribute(r?s.replace(/-/g,"_"):s,i[s])},createIframe:function(e,n){var r=t.createElement("iframe");return r.style.cssText="overflow: hidden; border: none;",f.extendObject(r,{src:e,allowtransparency:"true",frameborder:"0",scrolling:"no"},!0),n&&(r.onload=r.onreadystatechange=function(){u.test(r.readyState||"")&&(r.onload=r.onreadystatechange=null,f.activateInstance(n))}),r},networkReady:function(e){return s[e]?s[e].loaded:n},appendNetwork:function(e){if(!e||e.appended)return;if(typeof e.append=="function"&&e.append(e)===!1){e.appended=e.loaded=!0,f.activateAll(e);return}e.script&&(e.el=t.createElement("script"),f.extendObject(e.el,e.script,!0),e.el.async=!0,e.el.onload=e.el.onreadystatechange=function(){if(u.test(e.el.readyState||"")){e.el.onload=e.el.onreadystatechange=null,e.loaded=!0;if(typeof e.onload=="function"&&e.onload(e)===!1)return;f.activateAll(e)}},t.body.appendChild(e.el)),e.appended=!0},removeNetwork:function(e){return f.networkReady(e.name)?(e.el.parentNode&&e.el.parentNode.removeChild(e.el),!(e.appended=e.loaded=!1)):!1},reloadNetwork:function(e){var t=s[e];t&&f.removeNetwork(t)&&f.appendNetwork(t)},createInstance:function(e,t){var s=!0,o={el:e,uid:r++,widget:t};return i.push(o),t.process!==n&&(s=typeof t.process=="function"?t.process(o):!1),s&&f.processInstance(o),o.el.setAttribute("data-socialite",o.uid),o.el.className="socialite "+t.name+" socialite-instance",o},processInstance:function(e){var n=e.el;e.el=t.createElement("div"),e.el.className=n.className,f.copyDataAttributes(n,e.el),n.nodeName.toLowerCase()==="a"&&!n.getAttribute("data-default-href")&&e.el.setAttribute("data-default-href",n.getAttribute("href"));var r=n.parentNode;r.insertBefore(e.el,n),r.removeChild(n)},activateInstance:function(e){if(e&&!e.loaded)return e.loaded=!0,typeof e.widget.activate=="function"&&e.widget.activate(e),f.addClass(e.el,"socialite-loaded"),e.onload?e.onload(e.el):null},activateAll:function(e){typeof e=="string"&&(e=s[e]);for(var t=0;t<i.length;t++){var n=i[t];n.init&&n.widget.network===e&&f.activateInstance(n)}},load:function(e,n,r,s,u){e=e&&typeof e=="object"&&e.nodeType===1?e:t;if(!n||typeof n!="object"){f.load(e,f.getElements(e,"socialite"),r,s,u);return}var a;if(/Array/.test(Object.prototype.toString.call(n))){for(a=0;a<n.length;a++)f.load(e,n[a],r,s,u);return}if(n.nodeType!==1)return;if(!r||!o[r]){r=null;var l=n.className.split(" ");for(a=0;a<l.length;a++)if(o[l[a]]){r=l[a];break}if(!r)return}var c,h=o[r],p=parseInt(n.getAttribute("data-socialite"),10);if(!isNaN(p)){for(a=0;a<i.length;a++)if(i[a].uid===p){c=i[a];break}}else c=f.createInstance(n,h);if(u||!c)return;c.init||(c.init=!0,c.onload=typeof s=="function"?s:null,h.init(c)),h.network.appended?f.networkReady(h.network.name)&&f.activateInstance(c):f.appendNetwork(h.network)},activate:function(t,n,r){e.Socialite.load(null,t,n,r)},process:function(t,n,r){e.Socialite.load(t,n,r,null,!0)},network:function(e,t){s[e]={name:e,el:null,appended:!1,loaded:!1,widgets:{}},t&&f.extendObject(s[e],t)},widget:function(e,t,n){n.name=e+"-"+t;if(!s[e]||o[n.name])return;n.network=s[e],s[e].widgets[t]=o[n.name]=n},setup:function(e){f.extendObject(f.settings,e,!0)}};return f}(window,window.document),function(e,n,r,i){r.setup({facebook:{lang:"en_GB",appId:null},twitter:{lang:"en"},googleplus:{lang:"en-GB"}}),r.network("facebook",{script:{src:"//connect.facebook.net/{{language}}/all.js",id:"facebook-jssdk"},append:function(t){var i=n.createElement("div"),s=r.settings.facebook,o={onlike:"edge.create",onunlike:"edge.remove",onsend:"message.send"};i.id="fb-root",n.body.appendChild(i),t.script.src=t.script.src.replace("{{language}}",s.lang),e.fbAsyncInit=function(){e.FB.init({appId:s.appId,xfbml:!0});for(var t in o)typeof s[t]=="function"&&e.FB.Event.subscribe(o[t],s[t])}}}),r.widget("facebook","like",{init:function(t){var i=n.createElement("div");i.className="fb-like",r.copyDataAttributes(t.el,i),t.el.appendChild(i),e.FB&&e.FB.XFBML&&e.FB.XFBML.parse(t.el)}}),r.network("twitter",{script:{src:"//platform.twitter.com/widgets.js",id:"twitter-wjs",charset:"utf-8"},append:function(){var n=typeof e.twttr!="object",i=r.settings.twitter,s=["click","tweet","retweet","favorite","follow"],o=t={_e:[],ready:function(e){this._e.push(e)}};if(n)e.twttr=o;else{var u=e.twttr;e.twttr=o;for(var a in u)e.twttr[a]=u[a]}e.twttr.ready(function(e){for(var t=0;t<s.length;t++){var n=s[t];typeof i["on"+n]=="function"&&e.events.bind(n,i["on"+n])}r.activateAll("twitter")})}});var s=function(e){var t=n.createElement("a");t.className=e.widget.name+"-button",r.copyDataAttributes(e.el,t),t.setAttribute("href",e.el.getAttribute("data-default-href")),t.setAttribute("data-lang",e.el.getAttribute("data-lang")||r.settings.twitter.lang),e.el.appendChild(t)},o=function(t){e.twttr&&typeof e.twttr.widgets=="object"&&typeof e.twttr.widgets.load=="function"&&e.twttr.widgets.load()};r.widget("twitter","share",{init:s,activate:o}),r.widget("twitter","follow",{init:s,activate:o}),r.widget("twitter","hashtag",{init:s,activate:o}),r.widget("twitter","mention",{init:s,activate:o}),r.widget("twitter","embed",{process:function(e){e.innerEl=e.el,e.innerEl.getAttribute("data-lang")||e.innerEl.setAttribute("data-lang",r.settings.twitter.lang),e.el=n.createElement("div"),e.el.className=e.innerEl.className,e.innerEl.className="",e.innerEl.parentNode.insertBefore(e.el,e.innerEl),e.el.appendChild(e.innerEl)},init:function(e){e.innerEl.className="twitter-tweet"},activate:o}),r.network("googleplus",{script:{src:"//apis.google.com/js/plusone.js"},append:function(t){if(e.gapi)return!1;e.___gcfg={lang:r.settings.googleplus.lang,parsetags:"explicit"}}});var u=function(e){var t=n.createElement("div");t.className="g-"+e.widget.gtype,r.copyDataAttributes(e.el,t),e.el.appendChild(t),e.gplusEl=t},a=function(e,t){return typeof t!="function"?null:function(n){t(e.el,n)}},f=function(t){var n=t.widget.gtype;if(e.gapi&&e.gapi[n]){var i=r.settings.googleplus,s=r.getDataAttributes(t.el,!0,!0),o=["onstartinteraction","onendinteraction","callback"];for(var u=0;u<o.length;u++)s[o[u]]=a(t,i[o[u]]);e.gapi[n].render(t.gplusEl,s)}};r.widget("googleplus","one",{init:u,activate:f,gtype:"plusone"}),r.widget("googleplus","share",{init:u,activate:f,gtype:"plus"}),r.widget("googleplus","badge",{init:u,activate:f,gtype:"plus"}),r.network("linkedin",{script:{src:"//platform.linkedin.com/in.js"}});var l=function(t){var i=n.createElement("script");i.type="IN/"+t.widget.intype,r.copyDataAttributes(t.el,i),t.el.appendChild(i),typeof e.IN=="object"&&typeof e.IN.parse=="function"&&(e.IN.parse(t.el),r.activateInstance(t))};r.widget("linkedin","share",{init:l,intype:"Share"}),r.widget("linkedin","recommend",{init:l,intype:"RecommendProduct"})}(window,window.document,window.Socialite),function(){var e=window._socialite;if(/Array/.test(Object.prototype.toString.call(e)))for(var t=0,n=e.length;t<n;t++)typeof e[t]=="function"&&e[t]()}(),function(e,t,n,r){n.network("pinterest",{script:{src:"//assets.pinterest.com/js/pinit.js","data-pin-build":"parsePinBtns"}}),n.widget("pinterest","pinit",{process:function(e){if(e.el.nodeName.toLowerCase()!=="a")return!0;var t="socialite-instance-"+e.uid,n=e.el.getAttribute("href");e.el.id=t,e.el.href="#"+t,e.el.setAttribute("data-default-href",n),e.el.setAttribute("onclick",'(function(){window.open("'+n+'")})();')},init:function(r){n.processInstance(r);var i=t.createElement("a");i.className="pin-it-button",n.copyDataAttributes(r.el,i),i.setAttribute("href",r.el.getAttribute("data-default-href")),i.setAttribute("count-layout",r.el.getAttribute("data-count-layout")||"horizontal"),r.el.appendChild(i),n.networkReady("pinterest")&&e.parsePinBtns()}})}(window,window.document,window.Socialite),!function e(t,n,r){function i(o,u){if(!n[o]){if(!t[o]){var a="function"==typeof require&&require;if(!u&&a)return a(o,!0);if(s)return s(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return i(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}for(var s="function"==typeof require&&require,o=0;o<r.length;o++)i(r[o]);return i}({1:[function(e,t,n){"use strict";function r(e){e.fn.perfectScrollbar=function(t){return this.each(function(){if("object"==typeof t||"undefined"==typeof t){var n=t;s.get(this)||i.initialize(this,n)}else{var r=t;"update"===r?i.update(this):"destroy"===r&&i.destroy(this)}return e(this)})}}var i=e("../main"),s=e("../plugin/instances");if("function"==typeof define&&define.amd)define(["jquery"],r);else{var o=window.jQuery?window.jQuery:window.$;"undefined"!=typeof o&&r(o)}t.exports=r},{"../main":7,"../plugin/instances":18}],2:[function(e,t,n){"use strict";function r(e,t){var n=e.className.split(" ");n.indexOf(t)<0&&n.push(t),e.className=n.join(" ")}function i(e,t){var n=e.className.split(" "),r=n.indexOf(t);r>=0&&n.splice(r,1),e.className=n.join(" ")}n.add=function(e,t){e.classList?e.classList.add(t):r(e,t)},n.remove=function(e,t){e.classList?e.classList.remove(t):i(e,t)},n.list=function(e){return e.classList?Array.prototype.slice.apply(e.classList):e.className.split(" ")}},{}],3:[function(e,t,n){"use strict";function r(e,t){return window.getComputedStyle(e)[t]}function i(e,t,n){return"number"==typeof n&&(n=n.toString()+"px"),e.style[t]=n,e}function s(e,t){for(var n in t){var r=t[n];"number"==typeof r&&(r=r.toString()+"px"),e.style[n]=r}return e}var o={};o.e=function(e,t){var n=document.createElement(e);return n.className=t,n},o.appendTo=function(e,t){return t.appendChild(e),e},o.css=function(e,t,n){return"object"==typeof t?s(e,t):"undefined"==typeof n?r(e,t):i(e,t,n)},o.matches=function(e,t){return"undefined"!=typeof e.matches?e.matches(t):"undefined"!=typeof e.matchesSelector?e.matchesSelector(t):"undefined"!=typeof e.webkitMatchesSelector?e.webkitMatchesSelector(t):"undefined"!=typeof e.mozMatchesSelector?e.mozMatchesSelector(t):"undefined"!=typeof e.msMatchesSelector?e.msMatchesSelector(t):void 0},o.remove=function(e){"undefined"!=typeof e.remove?e.remove():e.parentNode&&e.parentNode.removeChild(e)},o.queryChildren=function(e,t){return Array.prototype.filter.call(e.childNodes,function(e){return o.matches(e,t)})},t.exports=o},{}],4:[function(e,t,n){"use strict";var r=function(e){this.element=e,this.events={}};r.prototype.bind=function(e,t){"undefined"==typeof this.events[e]&&(this.events[e]=[]),this.events[e].push(t),this.element.addEventListener(e,t,!1)},r.prototype.unbind=function(e,t){var n="undefined"!=typeof t;this.events[e]=this.events[e].filter(function(r){return n&&r!==t?!0:(this.element.removeEventListener(e,r,!1),!1)},this)},r.prototype.unbindAll=function(){for(var e in this.events)this.unbind(e)};var i=function(){this.eventElements=[]};i.prototype.eventElement=function(e){var t=this.eventElements.filter(function(t){return t.element===e})[0];return"undefined"==typeof t&&(t=new r(e),this.eventElements.push(t)),t},i.prototype.bind=function(e,t,n){this.eventElement(e).bind(t,n)},i.prototype.unbind=function(e,t,n){this.eventElement(e).unbind(t,n)},i.prototype.unbindAll=function(){for(var e=0;e<this.eventElements.length;e++)this.eventElements[e].unbindAll()},i.prototype.once=function(e,t,n){var r=this.eventElement(e),i=function(e){r.unbind(t,i),n(e)};r.bind(t,i)},t.exports=i},{}],5:[function(e,t,n){"use strict";t.exports=function(){function e(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)}return function(){return e()+e()+"-"+e()+"-"+e()+"-"+e()+"-"+e()+e()+e()}}()},{}],6:[function(e,t,n){"use strict";var r=e("./class"),i=e("./dom");n.toInt=function(e){return parseInt(e,10)||0},n.clone=function(e){if(null===e)return null;if("object"==typeof e){var t={};for(var n in e)t[n]=this.clone(e[n]);return t}return e},n.extend=function(e,t){var n=this.clone(e);for(var r in t)n[r]=this.clone(t[r]);return n},n.isEditable=function(e){return i.matches(e,"input,[contenteditable]")||i.matches(e,"select,[contenteditable]")||i.matches(e,"textarea,[contenteditable]")||i.matches(e,"button,[contenteditable]")},n.removePsClasses=function(e){for(var t=r.list(e),n=0;n<t.length;n++){var i=t[n];0===i.indexOf("ps-")&&r.remove(e,i)}},n.outerWidth=function(e){return this.toInt(i.css(e,"width"))+this.toInt(i.css(e,"paddingLeft"))+this.toInt(i.css(e,"paddingRight"))+this.toInt(i.css(e,"borderLeftWidth"))+this.toInt(i.css(e,"borderRightWidth"))},n.startScrolling=function(e,t){r.add(e,"ps-in-scrolling"),"undefined"!=typeof t?r.add(e,"ps-"+t):(r.add(e,"ps-x"),r.add(e,"ps-y"))},n.stopScrolling=function(e,t){r.remove(e,"ps-in-scrolling"),"undefined"!=typeof t?r.remove(e,"ps-"+t):(r.remove(e,"ps-x"),r.remove(e,"ps-y"))},n.env={isWebKit:"WebkitAppearance"in document.documentElement.style,supportsTouch:"ontouchstart"in window||window.DocumentTouch&&document instanceof window.DocumentTouch,supportsIePointer:null!==window.navigator.msMaxTouchPoints}},{"./class":2,"./dom":3}],7:[function(e,t,n){"use strict";var r=e("./plugin/destroy"),i=e("./plugin/initialize"),s=e("./plugin/update");t.exports={initialize:i,update:s,destroy:r}},{"./plugin/destroy":9,"./plugin/initialize":17,"./plugin/update":21}],8:[function(e,t,n){"use strict";t.exports={maxScrollbarLength:null,minScrollbarLength:null,scrollXMarginOffset:0,scrollYMarginOffset:0,stopPropagationOnClick:!0,suppressScrollX:!1,suppressScrollY:!1,swipePropagation:!0,useBothWheelAxes:!1,useKeyboard:!0,useSelectionScroll:!1,wheelPropagation:!1,wheelSpeed:1}},{}],9:[function(e,t,n){"use strict";var r=e("../lib/dom"),i=e("../lib/helper"),s=e("./instances");t.exports=function(e){var t=s.get(e);t&&(t.event.unbindAll(),r.remove(t.scrollbarX),r.remove(t.scrollbarY),r.remove(t.scrollbarXRail),r.remove(t.scrollbarYRail),i.removePsClasses(e),s.remove(e))}},{"../lib/dom":3,"../lib/helper":6,"./instances":18}],10:[function(e,t,n){"use strict";function r(e,t){function n(e){return e.getBoundingClientRect()}var r=window.Event.prototype.stopPropagation.bind;t.settings.stopPropagationOnClick&&t.event.bind(t.scrollbarY,"click",r),t.event.bind(t.scrollbarYRail,"click",function(r){var s=i.toInt(t.scrollbarYHeight/2),a=t.railYRatio*(r.pageY-window.scrollY-n(t.scrollbarYRail).top-s),f=t.railYRatio*(t.railYHeight-t.scrollbarYHeight),c=a/f;0>c?c=0:c>1&&(c=1),u(e,"top",(t.contentHeight-t.containerHeight)*c),o(e),r.stopPropagation()}),t.settings.stopPropagationOnClick&&t.event.bind(t.scrollbarX,"click",r),t.event.bind(t.scrollbarXRail,"click",function(r){var s=i.toInt(t.scrollbarXWidth/2),a=t.railXRatio*(r.pageX-window.scrollX-n(t.scrollbarXRail).left-s),f=t.railXRatio*(t.railXWidth-t.scrollbarXWidth),c=a/f;0>c?c=0:c>1&&(c=1),u(e,"left",(t.contentWidth-t.containerWidth)*c-t.negativeScrollAdjustment),o(e),r.stopPropagation()})}var i=e("../../lib/helper"),s=e("../instances"),o=e("../update-geometry"),u=e("../update-scroll");t.exports=function(e){var t=s.get(e);r(e,t)}},{"../../lib/helper":6,"../instances":18,"../update-geometry":19,"../update-scroll":20}],11:[function(e,t,n){"use strict";function r(e,t){function n(n){var i=r+n*t.railXRatio,s=t.scrollbarXRail.getBoundingClientRect().left+t.railXRatio*(t.railXWidth-t.scrollbarXWidth);0>i?t.scrollbarXLeft=0:i>s?t.scrollbarXLeft=s:t.scrollbarXLeft=i;var u=o.toInt(t.scrollbarXLeft*(t.contentWidth-t.containerWidth)/(t.containerWidth-t.railXRatio*t.scrollbarXWidth))-t.negativeScrollAdjustment;f(e,"left",u)}var r=null,i=null,u=function(t){n(t.pageX-i),a(e),t.stopPropagation(),t.preventDefault()},h=function(){o.stopScrolling(e,"x"),t.event.unbind(t.ownerDocument,"mousemove",u)};t.event.bind(t.scrollbarX,"mousedown",function(n){i=n.pageX,r=o.toInt(s.css(t.scrollbarX,"left"))*t.railXRatio,o.startScrolling(e,"x"),t.event.bind(t.ownerDocument,"mousemove",u),t.event.once(t.ownerDocument,"mouseup",h),n.stopPropagation(),n.preventDefault()})}function i(e,t){function n(n){var i=r+n*t.railYRatio,s=t.scrollbarYRail.getBoundingClientRect().top+t.railYRatio*(t.railYHeight-t.scrollbarYHeight);0>i?t.scrollbarYTop=0:i>s?t.scrollbarYTop=s:t.scrollbarYTop=i;var u=o.toInt(t.scrollbarYTop*(t.contentHeight-t.containerHeight)/(t.containerHeight-t.railYRatio*t.scrollbarYHeight));f(e,"top",u)}var r=null,i=null,u=function(t){n(t.pageY-i),a(e),t.stopPropagation(),t.preventDefault()},h=function(){o.stopScrolling(e,"y"),t.event.unbind(t.ownerDocument,"mousemove",u)};t.event.bind(t.scrollbarY,"mousedown",function(n){i=n.pageY,r=o.toInt(s.css(t.scrollbarY,"top"))*t.railYRatio,o.startScrolling(e,"y"),t.event.bind(t.ownerDocument,"mousemove",u),t.event.once(t.ownerDocument,"mouseup",h),n.stopPropagation(),n.preventDefault()})}var s=e("../../lib/dom"),o=e("../../lib/helper"),u=e("../instances"),a=e("../update-geometry"),f=e("../update-scroll");t.exports=function(e){var t=u.get(e);r(e,t),i(e,t)}},{"../../lib/dom":3,"../../lib/helper":6,"../instances":18,"../update-geometry":19,"../update-scroll":20}],12:[function(e,t,n){"use strict";function r(e,t){function n(n,r){var i=e.scrollTop;if(0===n){if(!t.scrollbarYActive)return!1;if(0===i&&r>0||i>=t.contentHeight-t.containerHeight&&0>r)return!t.settings.wheelPropagation}var s=e.scrollLeft;if(0===r){if(!t.scrollbarXActive)return!1;if(0===s&&0>n||s>=t.contentWidth-t.containerWidth&&n>0)return!t.settings.wheelPropagation}return!0}var r=!1;t.event.bind(e,"mouseenter",function(){r=!0}),t.event.bind(e,"mouseleave",function(){r=!1});var s=!1;t.event.bind(t.ownerDocument,"keydown",function(a){if((!a.isDefaultPrevented||!a.isDefaultPrevented())&&r){var f=document.activeElement?document.activeElement:t.ownerDocument.activeElement;if(f){for(;f.shadowRoot;)f=f.shadowRoot.activeElement;if(i.isEditable(f))return}var c=0,h=0;switch(a.which){case 37:c=-30;break;case 38:h=30;break;case 39:c=30;break;case 40:h=-30;break;case 33:h=90;break;case 32:h=a.shiftKey?90:-90;break;case 34:h=-90;break;case 35:h=a.ctrlKey?-t.contentHeight:-t.containerHeight;break;case 36:h=a.ctrlKey?e.scrollTop:t.containerHeight;break;default:return}u(e,"top",e.scrollTop-h),u(e,"left",e.scrollLeft+c),o(e),s=n(c,h),s&&a.preventDefault()}})}var i=e("../../lib/helper"),s=e("../instances"),o=e("../update-geometry"),u=e("../update-scroll");t.exports=function(e){var t=s.get(e);r(e,t)}},{"../../lib/helper":6,"../instances":18,"../update-geometry":19,"../update-scroll":20}],13:[function(e,t,n){"use strict";function r(e,t){function n(n,r){var i=e.scrollTop;if(0===n){if(!t.scrollbarYActive)return!1;if(0===i&&r>0||i>=t.contentHeight-t.containerHeight&&0>r)return!t.settings.wheelPropagation}var s=e.scrollLeft;if(0===r){if(!t.scrollbarXActive)return!1;if(0===s&&0>n||s>=t.contentWidth-t.containerWidth&&n>0)return!t.settings.wheelPropagation}return!0}function r(e){var t=e.deltaX,n=-1*e.deltaY;return("undefined"==typeof t||"undefined"==typeof n)&&(t=-1*e.wheelDeltaX/6,n=e.wheelDeltaY/6),e.deltaMode&&1===e.deltaMode&&(t*=10,n*=10),t!==t&&n!==n&&(t=0,n=e.wheelDelta),[t,n]}function s(t,n){var r=e.querySelector("textarea:hover");if(r){var i=r.scrollHeight-r.clientHeight;if(i>0&&!(0===r.scrollTop&&n>0||r.scrollTop===i&&0>n))return!0;var s=r.scrollLeft-r.clientWidth;if(s>0&&!(0===r.scrollLeft&&0>t||r.scrollLeft===s&&t>0))return!0}return!1}function a(a){if(i.env.isWebKit||!e.querySelector("select:focus")){var h=r(a),p=h[0],d=h[1];s(p,d)||(f=!1,t.settings.useBothWheelAxes?t.scrollbarYActive&&!t.scrollbarXActive?(d?u(e,"top",e.scrollTop-d*t.settings.wheelSpeed):u(e,"top",e.scrollTop+p*t.settings.wheelSpeed),f=!0):t.scrollbarXActive&&!t.scrollbarYActive&&(p?u(e,"left",e.scrollLeft+p*t.settings.wheelSpeed):u(e,"left",e.scrollLeft-d*t.settings.wheelSpeed),f=!0):(u(e,"top",e.scrollTop-d*t.settings.wheelSpeed),u(e,"left",e.scrollLeft+p*t.settings.wheelSpeed)),o(e),f=f||n(p,d),f&&(a.stopPropagation(),a.preventDefault()))}}var f=!1;"undefined"!=typeof window.onwheel?t.event.bind(e,"wheel",a):"undefined"!=typeof window.onmousewheel&&t.event.bind(e,"mousewheel",a)}var i=e("../../lib/helper"),s=e("../instances"),o=e("../update-geometry"),u=e("../update-scroll");t.exports=function(e){var t=s.get(e);r(e,t)}},{"../../lib/helper":6,"../instances":18,"../update-geometry":19,"../update-scroll":20}],14:[function(e,t,n){"use strict";function r(e,t){t.event.bind(e,"scroll",function(){s(e)})}var i=e("../instances"),s=e("../update-geometry");t.exports=function(e){var t=i.get(e);r(e,t)}},{"../instances":18,"../update-geometry":19}],15:[function(e,t,n){"use strict";function r(e,t){function n(){var e=window.getSelection?window.getSelection():document.getSelection?document.getSelection():"";return 0===e.toString().length?null:e.getRangeAt(0).commonAncestorContainer}function r(){f||(f=setInterval(function(){return s.get(e)?(u(e,"top",e.scrollTop+c.top),u(e,"left",e.scrollLeft+c.left),void o(e)):void clearInterval(f)},50))}function a(){f&&(clearInterval(f),f=null),i.stopScrolling(e)}var f=null,c={top:0,left:0},h=!1;t.event.bind(t.ownerDocument,"selectionchange",function(){e.contains(n())?h=!0:(h=!1,a())}),t.event.bind(window,"mouseup",function(){h&&(h=!1,a())}),t.event.bind(window,"mousemove",function(t){if(h){var n={x:t.pageX,y:t.pageY},s={left:e.offsetLeft,right:e.offsetLeft+e.offsetWidth,top:e.offsetTop,bottom:e.offsetTop+e.offsetHeight};n.x<s.left+3?(c.left=-5,i.startScrolling(e,"x")):n.x>s.right-3?(c.left=5,i.startScrolling(e,"x")):c.left=0,n.y<s.top+3?(s.top+3-n.y<5?c.top=-5:c.top=-20,i.startScrolling(e,"y")):n.y>s.bottom-3?(n.y-s.bottom+3<5?c.top=5:c.top=20,i.startScrolling(e,"y")):c.top=0,0===c.top&&0===c.left?a():r()}})}var i=e("../../lib/helper"),s=e("../instances"),o=e("../update-geometry"),u=e("../update-scroll");t.exports=function(e){var t=s.get(e);r(e,t)}},{"../../lib/helper":6,"../instances":18,"../update-geometry":19,"../update-scroll":20}],16:[function(e,t,n){"use strict";function r(e,t,n,r){function u(n,r){var i=e.scrollTop,s=e.scrollLeft,o=Math.abs(n),u=Math.abs(r);if(u>o){if(0>r&&i===t.contentHeight-t.containerHeight||r>0&&0===i)return!t.settings.swipePropagation}else if(o>u&&(0>n&&s===t.contentWidth-t.containerWidth||n>0&&0===s))return!t.settings.swipePropagation;return!0}function a(t,n){o(e,"top",e.scrollTop-n),o(e,"left",e.scrollLeft-t),s(e)}function f(){E=!0}function c(){E=!1}function h(e){return e.targetTouches?e.targetTouches[0]:e}function p(e){return e.targetTouches&&1===e.targetTouches.length?!0:e.pointerType&&"mouse"!==e.pointerType&&e.pointerType!==e.MSPOINTER_TYPE_MOUSE?!0:!1}function d(e){if(p(e)){S=!0;var t=h(e);g.pageX=t.pageX,g.pageY=t.pageY,y=(new Date).getTime(),null!==w&&clearInterval(w),e.stopPropagation()}}function v(e){if(!E&&S&&p(e)){var t=h(e),n={pageX:t.pageX,pageY:t.pageY},r=n.pageX-g.pageX,i=n.pageY-g.pageY;a(r,i),g=n;var s=(new Date).getTime(),o=s-y;o>0&&(b.x=r/o,b.y=i/o,y=s),u(r,i)&&(e.stopPropagation(),e.preventDefault())}}function m(){!E&&S&&(S=!1,clearInterval(w),w=setInterval(function(){return i.get(e)?Math.abs(b.x)<.01&&Math.abs(b.y)<.01?void clearInterval(w):(a(30*b.x,30*b.y),b.x*=.8,void (b.y*=.8)):void clearInterval(w)},10))}var g={},y=0,b={},w=null,E=!1,S=!1;n&&(t.event.bind(window,"touchstart",f),t.event.bind(window,"touchend",c),t.event.bind(e,"touchstart",d),t.event.bind(e,"touchmove",v),t.event.bind(e,"touchend",m)),r&&(window.PointerEvent?(t.event.bind(window,"pointerdown",f),t.event.bind(window,"pointerup",c),t.event.bind(e,"pointerdown",d),t.event.bind(e,"pointermove",v),t.event.bind(e,"pointerup",m)):window.MSPointerEvent&&(t.event.bind(window,"MSPointerDown",f),t.event.bind(window,"MSPointerUp",c),t.event.bind(e,"MSPointerDown",d),t.event.bind(e,"MSPointerMove",v),t.event.bind(e,"MSPointerUp",m)))}var i=e("../instances"),s=e("../update-geometry"),o=e("../update-scroll");t.exports=function(e,t,n){var s=i.get(e);r(e,s,t,n)}},{"../instances":18,"../update-geometry":19,"../update-scroll":20}],17:[function(e,t,n){"use strict";var r=e("../lib/class"),i=e("../lib/helper"),s=e("./instances"),o=e("./update-geometry"),u=e("./handler/click-rail"),a=e("./handler/drag-scrollbar"),f=e("./handler/keyboard"),l=e("./handler/mouse-wheel"),c=e("./handler/native-scroll"),h=e("./handler/selection"),p=e("./handler/touch");t.exports=function(e,t){t="object"==typeof t?t:{},r.add(e,"ps-container");var n=s.add(e);n.settings=i.extend(n.settings,t),u(e),a(e),l(e),c(e),n.settings.useSelectionScroll&&h(e),(i.env.supportsTouch||i.env.supportsIePointer)&&p(e,i.env.supportsTouch,i.env.supportsIePointer),n.settings.useKeyboard&&f(e),o(e)}},{"../lib/class":2,"../lib/helper":6,"./handler/click-rail":10,"./handler/drag-scrollbar":11,"./handler/keyboard":12,"./handler/mouse-wheel":13,"./handler/native-scroll":14,"./handler/selection":15,"./handler/touch":16,"./instances":18,"./update-geometry":19}],18:[function(e,t,n){"use strict";function r(e){var t=this;t.settings=c.clone(a),t.containerWidth=null,t.containerHeight=null,t.contentWidth=null,t.contentHeight=null,t.isRtl="rtl"===u.css(e,"direction"),t.isNegativeScroll=function(){var t=e.scrollLeft,n=null;return e.scrollLeft=-1,n=e.scrollLeft<0,e.scrollLeft=t,n}(),t.negativeScrollAdjustment=t.isNegativeScroll?e.scrollWidth-e.clientWidth:0,t.event=new f,t.ownerDocument=e.ownerDocument||document,t.scrollbarXRail=u.appendTo(u.e("div","ps-scrollbar-x-rail"),e),t.scrollbarX=u.appendTo(u.e("div","ps-scrollbar-x"),t.scrollbarXRail),t.scrollbarXActive=null,t.scrollbarXWidth=null,t.scrollbarXLeft=null,t.scrollbarXBottom=c.toInt(u.css(t.scrollbarXRail,"bottom")),t.isScrollbarXUsingBottom=t.scrollbarXBottom===t.scrollbarXBottom,t.scrollbarXTop=t.isScrollbarXUsingBottom?null:c.toInt(u.css(t.scrollbarXRail,"top")),t.railBorderXWidth=c.toInt(u.css(t.scrollbarXRail,"borderLeftWidth"))+c.toInt(u.css(t.scrollbarXRail,"borderRightWidth")),u.css(t.scrollbarXRail,"display","block"),t.railXMarginWidth=c.toInt(u.css(t.scrollbarXRail,"marginLeft"))+c.toInt(u.css(t.scrollbarXRail,"marginRight")),u.css(t.scrollbarXRail,"display",""),t.railXWidth=null,t.railXRatio=null,t.scrollbarYRail=u.appendTo(u.e("div","ps-scrollbar-y-rail"),e),t.scrollbarY=u.appendTo(u.e("div","ps-scrollbar-y"),t.scrollbarYRail),t.scrollbarYActive=null,t.scrollbarYHeight=null,t.scrollbarYTop=null,t.scrollbarYRight=c.toInt(u.css(t.scrollbarYRail,"right")),t.isScrollbarYUsingRight=t.scrollbarYRight===t.scrollbarYRight,t.scrollbarYLeft=t.isScrollbarYUsingRight?null:c.toInt(u.css(t.scrollbarYRail,"left")),t.scrollbarYOuterWidth=t.isRtl?c.outerWidth(t.scrollbarY):null,t.railBorderYWidth=c.toInt(u.css(t.scrollbarYRail,"borderTopWidth"))+c.toInt(u.css(t.scrollbarYRail,"borderBottomWidth")),u.css(t.scrollbarYRail,"display","block"),t.railYMarginHeight=c.toInt(u.css(t.scrollbarYRail,"marginTop"))+c.toInt(u.css(t.scrollbarYRail,"marginBottom")),u.css(t.scrollbarYRail,"display",""),t.railYHeight=null,t.railYRatio=null}function i(e){return"undefined"==typeof e.dataset?e.getAttribute("data-ps-id"):e.dataset.psId}function s(e,t){"undefined"==typeof e.dataset?e.setAttribute("data-ps-id",t):e.dataset.psId=t}function o(e){"undefined"==typeof e.dataset?e.removeAttribute("data-ps-id"):delete e.dataset.psId}var u=e("../lib/dom"),a=e("./default-setting"),f=e("../lib/event-manager"),l=e("../lib/guid"),c=e("../lib/helper"),h={};n.add=function(e){var t=l();return s(e,t),h[t]=new r(e),h[t]},n.remove=function(e){delete h[i(e)],o(e)},n.get=function(e){return h[i(e)]}},{"../lib/dom":3,"../lib/event-manager":4,"../lib/guid":5,"../lib/helper":6,"./default-setting":8}],19:[function(e,t,n){"use strict";function r(e,t){return e.settings.minScrollbarLength&&(t=Math.max(t,e.settings.minScrollbarLength)),e.settings.maxScrollbarLength&&(t=Math.min(t,e.settings.maxScrollbarLength)),t}function i(e,t){var n={width:t.railXWidth};t.isRtl?n.left=t.negativeScrollAdjustment+e.scrollLeft+t.containerWidth-t.contentWidth:n.left=e.scrollLeft,t.isScrollbarXUsingBottom?n.bottom=t.scrollbarXBottom-e.scrollTop:n.top=t.scrollbarXTop+e.scrollTop,o.css(t.scrollbarXRail,n);var r={top:e.scrollTop,height:t.railYHeight};t.isScrollbarYUsingRight?t.isRtl?r.right=t.contentWidth-(t.negativeScrollAdjustment+e.scrollLeft)-t.scrollbarYRight-t.scrollbarYOuterWidth:r.right=t.scrollbarYRight-e.scrollLeft:t.isRtl?r.left=t.negativeScrollAdjustment+e.scrollLeft+2*t.containerWidth-t.contentWidth-t.scrollbarYLeft-t.scrollbarYOuterWidth:r.left=t.scrollbarYLeft+e.scrollLeft,o.css(t.scrollbarYRail,r),o.css(t.scrollbarX,{left:t.scrollbarXLeft,width:t.scrollbarXWidth-t.railBorderXWidth}),o.css(t.scrollbarY,{top:t.scrollbarYTop,height:t.scrollbarYHeight-t.railBorderYWidth})}var s=e("../lib/class"),o=e("../lib/dom"),u=e("../lib/helper"),a=e("./instances"),f=e("./update-scroll");t.exports=function(e){var t=a.get(e);t.containerWidth=e.clientWidth,t.containerHeight=e.clientHeight,t.contentWidth=e.scrollWidth,t.contentHeight=e.scrollHeight;var n;e.contains(t.scrollbarXRail)||(n=o.queryChildren(e,".ps-scrollbar-x-rail"),n.length>0&&n.forEach(function(e){o.remove(e)}),o.appendTo(t.scrollbarXRail,e)),e.contains(t.scrollbarYRail)||(n=o.queryChildren(e,".ps-scrollbar-y-rail"),n.length>0&&n.forEach(function(e){o.remove(e)}),o.appendTo(t.scrollbarYRail,e)),!t.settings.suppressScrollX&&t.containerWidth+t.settings.scrollXMarginOffset<t.contentWidth?(t.scrollbarXActive=!0,t.railXWidth=t.containerWidth-t.railXMarginWidth,t.railXRatio=t.containerWidth/t.railXWidth,t.scrollbarXWidth=r(t,u.toInt(t.railXWidth*t.containerWidth/t.contentWidth)),t.scrollbarXLeft=u.toInt((t.negativeScrollAdjustment+e.scrollLeft)*(t.railXWidth-t.scrollbarXWidth)/(t.contentWidth-t.containerWidth))):(t.scrollbarXActive=!1,t.scrollbarXWidth=0,t.scrollbarXLeft=0,e.scrollLeft=0),!t.settings.suppressScrollY&&t.containerHeight+t.settings.scrollYMarginOffset<t.contentHeight?(t.scrollbarYActive=!0,t.railYHeight=t.containerHeight-t.railYMarginHeight,t.railYRatio=t.containerHeight/t.railYHeight,t.scrollbarYHeight=r(t,u.toInt(t.railYHeight*t.containerHeight/t.contentHeight)),t.scrollbarYTop=u.toInt(e.scrollTop*(t.railYHeight-t.scrollbarYHeight)/(t.contentHeight-t.containerHeight))):(t.scrollbarYActive=!1,t.scrollbarYHeight=0,t.scrollbarYTop=0,f(e,"top",0)),t.scrollbarXLeft>=t.railXWidth-t.scrollbarXWidth&&(t.scrollbarXLeft=t.railXWidth-t.scrollbarXWidth),t.scrollbarYTop>=t.railYHeight-t.scrollbarYHeight&&(t.scrollbarYTop=t.railYHeight-t.scrollbarYHeight),i(e,t),s[t.scrollbarXActive?"add":"remove"](e,"ps-active-x"),s[t.scrollbarYActive?"add":"remove"](e,"ps-active-y")}},{"../lib/class":2,"../lib/dom":3,"../lib/helper":6,"./instances":18,"./update-scroll":20}],20:[function(e,t,n){"use strict";var r,i,s=e("./instances"),o=document.createEvent("Event"),u=document.createEvent("Event"),a=document.createEvent("Event"),f=document.createEvent("Event"),l=document.createEvent("Event"),c=document.createEvent("Event"),h=document.createEvent("Event"),p=document.createEvent("Event"),d=document.createEvent("Event"),v=document.createEvent("Event");o.initEvent("ps-scroll-up",!0,!0),u.initEvent("ps-scroll-down",!0,!0),a.initEvent("ps-scroll-left",!0,!0),f.initEvent("ps-scroll-right",!0,!0),l.initEvent("ps-scroll-y",!0,!0),c.initEvent("ps-scroll-x",!0,!0),h.initEvent("ps-x-reach-start",!0,!0),p.initEvent("ps-x-reach-end",!0,!0),d.initEvent("ps-y-reach-start",!0,!0),v.initEvent("ps-y-reach-end",!0,!0),t.exports=function(e,t,n){if("undefined"==typeof e)throw"You must provide an element to the update-scroll function";if("undefined"==typeof t)throw"You must provide an axis to the update-scroll function";if("undefined"==typeof n)throw"You must provide a value to the update-scroll function";if("top"===t&&0>=n)return e.scrollTop=0,void e.dispatchEvent(d);if("left"===t&&0>=n)return e.scrollLeft=0,void e.dispatchEvent(h);var m=s.get(e);return"top"===t&&n>m.contentHeight-m.containerHeight?(e.scrollTop=m.contentHeight-m.containerHeight,void e.dispatchEvent(v)):"left"===t&&n>m.contentWidth-m.containerWidth?(e.scrollLeft=m.contentWidth-m.containerWidth,void e.dispatchEvent(p)):(r||(r=e.scrollTop),i||(i=e.scrollLeft),"top"===t&&r>n&&e.dispatchEvent(o),"top"===t&&n>r&&e.dispatchEvent(u),"left"===t&&i>n&&e.dispatchEvent(a),"left"===t&&n>i&&e.dispatchEvent(f),"top"===t&&(e.scrollTop=r=n,e.dispatchEvent(l)),void ("left"===t&&(e.scrollLeft=i=n,e.dispatchEvent(c))))}},{"./instances":18}],21:[function(e,t,n){"use strict";var r=e("../lib/dom"),i=e("../lib/helper"),s=e("./instances"),o=e("./update-geometry");t.exports=function(e){var t=s.get(e);t&&(t.negativeScrollAdjustment=t.isNegativeScroll?e.scrollWidth-e.clientWidth:0,r.css(t.scrollbarXRail,"display","block"),r.css(t.scrollbarYRail,"display","block"),t.railXMarginWidth=i.toInt(r.css(t.scrollbarXRail,"marginLeft"))+i.toInt(r.css(t.scrollbarXRail,"marginRight")),t.railYMarginHeight=i.toInt(r.css(t.scrollbarYRail,"marginTop"))+i.toInt(r.css(t.scrollbarYRail,"marginBottom")),r.css(t.scrollbarXRail,"display","none"),r.css(t.scrollbarYRail,"display","none"),o(e),r.css(t.scrollbarXRail,"display",""),r.css(t.scrollbarYRail
,"display",""))}},{"../lib/dom":3,"../lib/helper":6,"./instances":18,"./update-geometry":19}]},{},[1]),$(".item img").load(function(){handleScroll()}),$(function(){handleScroll(),repositionElements(),$(window).resize(handleScroll),$(".resource-info-scrollable").perfectScrollbar(),$(".resource-share-count, .shareblock-horiz").hover(function(){$(".shareblock-horiz").addClass("is--in-view"),$(".resource-share-count").addClass("is--active")},function(){$(".shareblock-horiz").removeClass("is--in-view"),$(".resource-share-count").removeClass("is--active")}),$(".is--justified").not(".themezy-grid, .related-collections, .videezy-grid, .vertically-resizeable, .members-grid").each(function(){var e=new freewall(this);e.reset({selector:"li",animate:!1,cellW:173,cellH:136,gutterX:20,gutterY:20,keepOrder:!0,onResize:function(t){e.fitWidth()}}),e.fitWidth()}),$(window).trigger("resize"),$("body.vertical-related .is--justified.vertically-resizeable").addClass("vertical-results__regular"),$("body.vertical-related .is--justified.vertically-resizeable").each(function(){var e=new freewall(this);e.reset({selector:"li",animate:!1,cellW:173,cellH:136,gutterX:20,gutterY:20,onResize:function(t){e.refresh();var n=11,r=20;if($("body.vertical-related .is--justified").length){var i=$("body.vertical-related .is--justified > li")[0];$("body.vertical-related .is--justified").height(($(i).height()+r)*n-5)}}}),e.fitWidth()}),$(".is--justified.themezy-grid").each(function(){var e=new freewall(this);e.reset({selector:"li",animate:!1,cellW:173,cellH:173,gutterX:20,gutterY:20,keepOrder:!0,onResize:function(t){e.fitWidth()}}),e.fitWidth()}),$(window).trigger("resize"),$(".is--justified.videezy-grid").each(function(){var e=new freewall(this);e.reset({selector:"li",animate:!1,cellW:173,cellH:112,gutterX:20,gutterY:20,keepOrder:!0,onResize:function(t){e.fitWidth()}}),e.fitWidth()}),$(window).trigger("resize"),resizeRelatedCollections(),$(window).resize(resizeRelatedCollections),$(".related-collections").each(function(){var e=new freewall(this);e.reset({selector:"li",animate:!1,cellW:173,cellH:"auto",gutterX:20,gutterY:20,cache:!1,keepOrder:!0,onResize:function(t){e.fitWidth(),resizeRelatedCollections()},onComplete:function(e){resizeRelatedCollections()}}),e.fitWidth()}),$(".popular-resources-wrapper .related-collections").each(function(){var e=new freewall(this);e.reset({selector:"li",animate:!1,cellW:200,cellH:"auto",gutterX:20,gutterY:20,cache:!1,keepOrder:!0,onResize:function(t){e.fitWidth(),resizeRelatedCollections()},onComplete:function(e){resizeRelatedCollections()}}),e.fitWidth()}),$("body").on("resultsLoaded",function(){_resizeSpecialItems(),$("body.fullwidth.redesign-layout #similar.shutterstock > .eezyapi ul").addClass("is--sponsored"),$("body:not(.vertical-related) .is--sponsored").not(".vertical-sponsored").each(function(){var e=new freewall(this);e.reset({selector:"li",animate:!1,cellW:173,cellH:136,gutterX:20,gutterY:20,onResize:function(t){e.fitWidth()},onComplete:function(e){_resizeSpecialItems()}}),e.fitWidth()}),$(".is--sponsored-videezy .is--sponsored").each(function(){var e=new freewall(this);e.reset({selector:"li",animate:!1,cellW:173,cellH:101,gutterX:20,gutterY:20,onResize:function(t){e.fitWidth()},onComplete:function(e){_resizeSpecialItems()}}),e.fitWidth()}),$("body.vertical-related .is--sponsored").each(function(){var e=new freewall(this);e.reset({selector:"li",animate:!1,cellW:173,cellH:136,gutterX:20,gutterY:20,onResize:function(t){e.refresh(560,$("body.vertical-related .is--justified").height()-20),enquire.register("screen and (max-width: 1437px)",{match:function(){e.refresh(360,$("body.vertical-related .is--justified").height()-20)},unmatch:function(){e.refresh(560,$("body.vertical-related .is--justified").height()-20)}})},onComplete:function(e){_resizeSpecialItems()}}),e.fitZone(560,$("body.vertical-related .is--justified").height()-20)}),$(window).trigger("resize")}),enquire.register("screen and (max-width: 700px)",{match:function(){$("body.fullwidth.redesign-layout .info-section.resource-comments .resource-comments-content .resource-comments-header .resource-comments-header-closure").show()},unmatch:function(){$("body.fullwidth.redesign-layout .info-section.resource-comments .resource-comments-content .resource-comments-header .resource-comments-header-closure").hide()}}),$(".resource-share-btns .resource-share-count").on("click",function(e){e.preventDefault()}),$("body").on("click",".resource-comments-count",function(e){$("body").addClass("no-scroll"),$(".resource-comments").fadeIn(),$(".overlay-comments-closure, .resource-comments-content, .resource-comments-overlay").addClass("is--visible"),e.preventDefault()}),$("body").on("click",".overlay-comments-closure, .resource-comments-overlay, .resource-comments-header .resource-comments-header-closure",function(e){$("body").removeClass("no-scroll"),$(".resource-comments").fadeOut(),$(".overlay-comments-closure, .resource-comments-content, .resource-comments-overlay").removeClass("is--visible"),e.preventDefault()}),$("body.fullwidth.redesign-layout").keydown(function(e){e.which==27&&($("body").removeClass("no-scroll"),$(".resource-comments").fadeOut(),$(".overlay-comments-closure, .resource-comments-content, .resource-comments-overlay").removeClass("is--visible"))}),$(".resource-share-btns").one("mouseenter",function(){Socialite.load($(this)[0])})}),$(document).ready(function(){setTimeout(function(){$(".has-related-collection").fadeIn(),$(window).trigger("resize")},500)}),$(function(){$("body").on("resultsLoaded",function(){$(".sponsored.two-row-responsive .api-results, .sponsored.ss-results-block .api-results").wrap("<div class='api-results-wrapper' />"),$("body.narrow-content.alt .sponsored.ss-results-block .api-results").wrap("<div class='api-results-wrapper three-row' />"),resizeSpecialItems(),$(".api-results:not(.alt)").each(function(){var e=new freewall(this);e.reset({selector:"li",animate:!1,cellW:100,cellH:"auto",gutterX:10,gutterY:0,onResize:function(t){resizeSpecialItems(),e.fitWidth()}}),e.fitWidth()}),$(".api-results.alt").each(function(){var e=new freewall(this);e.reset({selector:"li",animate:!1,cellW:100,cellH:98,gutterX:10,gutterY:1,onResize:function(t){resizeSpecialItems(),e.fitWidth()}}),e.fitWidth()}),$(".sponsored:not(.vertical-fix) .api-results.videezy-sponsored-grid").each(function(){var e=new freewall(this);e.reset({selector:"li",animate:!1,cellW:163,cellH:"auto",gutterX:14,gutterY:14,onResize:function(t){resizeSpecialItems(),e.fitWidth()}}),e.fitWidth()}),$(window).trigger("resize"),$(window).resize(function(){resizeSpecialItems()})})}),!function(e,t){"use strict";!function(t){"function"==typeof define&&define.amd?define(["jquery"],t):t("object"==typeof exports?require("jquery"):e.jQuery||e.Zepto)}(function(n){var r=this||{},i="",s=0,o=0,u=0,f=".adunit",l=!1,c=!1,h="googleAdUnit",p=function(e,t,o){var a;s=0,u=0,i=e,a=n(t),r.shouldCheckForAdBlockers=function(){return o?"function"==typeof o.afterAdBlocked:!1},S(o,a).then(function(){o=d(o),r.dfpOptions=o,n(function(){v(o,a),m(o,a)})})},d=function(r){var i={setTargeting:{},setCategoryExclusion:"",setLocation:"",enableSingleRequest:!0,collapseEmptyDivs:"original",refreshExisting:!0,disablePublisherConsole:!1,disableInitialLoad:!1,setCentering:!1,noFetch:!1,namespace:t,sizeMapping:{}};if("undefined"==typeof r.setUrlTargeting||r.setUrlTargeting){var s=g(r.url);n.extend(!0,i.setTargeting,{UrlHost:s.Host,UrlPath:s.Path,UrlQuery:s.Query})}return n.extend(!0,i,r),i.googletag&&e.googletag.cmd.push(function(){n.extend(!0,e.googletag,i.googletag)}),i},v=function(t,o){var f=e.googletag;o.each(function(){var e=n(this);s++;var r=w(e,t),o=y(e,r),u=E(e);e.data("existingContent",e.html()),e.html("").addClass("display-none"),f.cmd.push(function(){var s,l=e.data(h);if(l)s=l;else{var c;c=""===i?r:"/"+i+"/"+r,e.data("outofpage")?s=f.defineOutOfPageSlot(c,o):(s=f.defineSlot(c,u,o),e.data("companion")&&(s=s.addService(f.companionAds()))),s=s.addService(f.pubads())}var p=e.data("targeting");p&&n.each(p,function(e,t){s.setTargeting(e,t)});var d=e.data("exclusions");if(d){var v,m=d.split(",");n.each(m,function(e,t){v=n.trim(t),v.length>0&&s.setCategoryExclusion(v)})}var g=e.data("size-mapping");if(g&&t.sizeMapping[g]){var y=f.sizeMapping();n.each(t.sizeMapping[g],function(e,t){y.addSize(t.browser,t.ad_sizes)}),s.defineSizeMapping(y.build())}e.data(h,s),"function"==typeof t.beforeEachAdLoaded&&t.beforeEachAdLoaded.call(this,e)})}),f.cmd.push(function(){var e=f.pubads();t.enableSingleRequest&&e.enableSingleRequest(),n.each(t.setTargeting,function(t,n){e.setTargeting(t,n)});var i=t.setLocation;if("object"==typeof i&&("number"==typeof i.latitude&&"number"==typeof i.longitude&&"number"==typeof i.precision?e.setLocation(i.latitude,i.longitude,i.precision):"number"==typeof i.latitude&&"number"==typeof i.longitude&&e.setLocation(i.latitude,i.longitude)),t.setCategoryExclusion.length>0){var a,l=t.setCategoryExclusion.split(",");n.each(l,function(t,r){a=n.trim(r),a.length>0&&e.setCategoryExclusion(a)})}t.collapseEmptyDivs&&e.collapseEmptyDivs(),t.disablePublisherConsole&&e.disablePublisherConsole(),t.companionAds&&(f.companionAds().setRefreshUnfilledSlots(!0),t.disableInitialLoad||e.enableVideoAds()),t.disableInitialLoad&&e.disableInitialLoad(),t.noFetch&&e.noFetch(),t.setCentering&&e.setCentering(!0),e.addEventListener("slotRenderEnded",function(e){u++;var r=n("#"+e.slot.getSlotId().getDomId()),i=e.isEmpty?"none":"block",a=r.data("existingContent");"none"===i&&n.trim(a).length>0&&"original"===t.collapseEmptyDivs&&(r.show().html(a),i="block display-original"),r.removeClass("display-none").addClass("display-"+i),"function"==typeof t.afterEachAdLoaded&&t.afterEachAdLoaded.call(this,r,e),"function"==typeof t.afterAllAdsLoaded&&u===s&&t.afterAllAdsLoaded.call(this,o)}),r.shouldCheckForAdBlockers()&&!f._adBlocked_&&setTimeout(function(){var i=e.getSlots?e.getSlots():[];i.length>0&&n.get(i[0].getContentUrl()).always(function(e){200!==e.status&&n.each(i,function(){var e=n("#"+this.getSlotId().getDomId());t.afterAdBlocked.call(r,e,this)})})},0),f.enableServices()})},m=function(t,i){var s=e.googletag;if(r.shouldCheckForAdBlockers()&&!s._adBlocked_&&s.getVersion){var o="//partner.googleadservices.com/gpt/pubads_impl_"+s.getVersion()+".js";n.getScript(o).always(function(e){e&&"error"===e.statusText&&n.each(i,function(){t.afterAdBlocked.call(r,n(this))})})}i.each(function(){var e=n(this),i=e.data(h);s._adBlocked_&&r.shouldCheckForAdBlockers()&&t.afterAdBlocked.call(r,e),s.cmd.push(t.refreshExisting&&i&&e.hasClass("display-block")?function(){s.pubads().refresh([i])}:function(){s.display(e.attr("id"))})})},g=function(t){var n=(t||e.location.toString()).match(/^(([^:\/?#]+):)?(\/\/([^\/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?/),r=n[4]||"",i=(n[5]||"").replace(/(.)\/$/,"$1"),s=n[7]||"",o=s.replace(/\=/gi,":").split("&");return{Host:r,Path:i,Query:o}},y=function(e,t){return o++,e.attr("id")||e.attr("id",t.replace(/[^A-z0-9]/g,"_")+"-auto-gen-id-"+o).attr("id")},w=function(e,t){var n=e.data("adunit")||t.namespace||e.attr("id")||"";return"function"==typeof t.alterAdUnitName&&(n=t.alterAdUnitName.call(this,n,e)),n},E=function(e){var t=[],r=e.data("dimensions");if(r){var i=r.split(",");n.each(i,function(e,n){var r=n.split("x");t.push([parseInt(r[0],10),parseInt(r[1],10)])})}else t.push([e.width(),e.height()]);return t},S=function(t,i){function s(){r.shouldCheckForAdBlockers()&&n.each(i,function(){t.afterAdBlocked.call(r,n(this))})}if(c=c||n('script[src*="googletagservices.com/tag/js/gpt.js"]').length)return l&&s(),n.Deferred().resolve();var o=n.Deferred();e.googletag=e.googletag||{},e.googletag.cmd=e.googletag.cmd||[];var u=document.createElement("script");u.async=!0,u.type="text/javascript",u.onerror=function(){x(),o.resolve(),l=!0,s()},u.onload=function(){googletag._loadStarted_||(googletag._adBlocked_=!0,s()),o.resolve()};var f="https:"===document.location.protocol;u.src=(f?"https:":"http:")+"//www.googletagservices.com/tag/js/gpt.js";var h=document.getElementsByTagName("script")[0];return h.parentNode.insertBefore(u,h),"none"===u.style.display&&x(),o},x=function(){var t=e.googletag,i=t.cmd,s=function(e,n,r,i){return t.ads.push(r),t.ads[r]={renderEnded:function(){},addService:function(){return this}},t.ads[r]};t={cmd:{push:function(e){e.call(r)}},ads:[],pubads:function(){return this},noFetch:function(){return this},disableInitialLoad:function(){return this},disablePublisherConsole:function(){return this},enableSingleRequest:function(){return this},setTargeting:function(){return this},collapseEmptyDivs:function(){return this},enableServices:function(){return this},defineSlot:function(e,t,n){return s(e,t,n,!1)},defineOutOfPageSlot:function(e,t){return s(e,[],t,!0)},display:function(e){return t.ads[e].renderEnded.call(r),this}},n.each(i,function(e,n){t.cmd.push(n)})};n.dfp=n.fn.dfp=function(e,n){n=n||{},e===t&&(e=i),"object"==typeof e&&(n=e,e=n.dfpID||i);var r=this;return"function"==typeof this&&(r=f),p(e,r,n),this}})}(window),!function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var t;t="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,t.Clipboard=e()}}(function(){var e,t,n;return function r(e,t,n){function i(o,u){if(!t[o]){if(!e[o]){var a="function"==typeof require&&require;if(!u&&a)return a(o,!0);if(s)return s(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var l=t[o]={exports:{}};e[o][0].call(l.exports,function(t){var n=e[o][1][t];return i(n?n:t)},l,l.exports,r,e,t,n)}return t[o].exports}for(var s="function"==typeof require&&require,o=0;o<n.length;o++)i(n[o]);return i}({1:[function(e,t,n){var r=e("matches-selector");t.exports=function(e,t,n){for(var i=n?e:e.parentNode;i&&i!==document;){if(r(i,t))return i;i=i.parentNode}}},{"matches-selector":5}],2:[function(e,t,n){function r(e,t,n,r,s){var o=i.apply(this,arguments);return e.addEventListener(n,o,s),{destroy:function(){e.removeEventListener(n,o,s)}}}function i(e,t,n,r){return function(n){n.delegateTarget=s(n.target,t,!0),n.delegateTarget&&r.call(e,n)}}var s=e("closest");t.exports=r},{closest:1}],3:[function(e,t,n){n.node=function(e){return void 0!==e&&e instanceof HTMLElement&&1===e.nodeType},n.nodeList=function(e){var t=Object.prototype.toString.call(e);return void 0!==e&&("[object NodeList]"===t||"[object HTMLCollection]"===t)&&"length"in e&&(0===e.length||n.node(e[0]))},n.string=function(e){return"string"==typeof e||e instanceof String},n.fn=function(e){var t=Object.prototype.toString.call(e);return"[object Function]"===t}},{}],4:[function(e,t,n){function r(e,t,n){if(!e&&!t&&!n)throw new Error("Missing required arguments");if(!u.string(t))throw new TypeError("Second argument must be a String");if(!u.fn(n))throw new TypeError("Third argument must be a Function");if(u.node(e))return i(e,t,n);if(u.nodeList(e))return s(e,t,n);if(u.string(e))return o(e,t,n);throw new TypeError("First argument must be a String, HTMLElement, HTMLCollection, or NodeList")}function i(e,t,n){return e.addEventListener(t,n),{destroy:function(){e.removeEventListener(t,n)}}}function s(e,t,n){return Array.prototype.forEach.call(e,function(e){e.addEventListener(t,n)}),{destroy:function(){Array.prototype.forEach.call(e,function(e){e.removeEventListener(t,n)})}}}function o(e,t,n){return a(document.body,e,t,n)}var u=e("./is"),a=e("delegate");t.exports=r},{"./is":3,delegate:2}],5:[function(e,t,n){function r(e,t){if(s)return s.call(e,t);for(var n=e.parentNode.querySelectorAll(t),r=0;r<n.length;++r)if(n[r]==e)return!0;return!1}var i=Element.prototype,s=i.matchesSelector||i.webkitMatchesSelector||i.mozMatchesSelector||i.msMatchesSelector||i.oMatchesSelector;t.exports=r},{}],6:[function(e,t,n){function r(e){var t;if("INPUT"===e.nodeName||"TEXTAREA"===e.nodeName)e.focus(),e.setSelectionRange(0,e.value.length),t=e.value;else{e.hasAttribute("contenteditable")&&e.focus();var n=window.getSelection(),r=document.createRange();r.selectNodeContents(e),n.removeAllRanges(),n.addRange(r),t=n.toString()}return t}t.exports=r},{}],7:[function(e,t,n){function r(){}r.prototype={on:function(e,t,n){var r=this.e||(this.e={});return(r[e]||(r[e]=[])).push({fn:t,ctx:n}),this},once:function(e,t,n){function r(){i.off(e,r),t.apply(n,arguments)}var i=this;return r._=t,this.on(e,r,n)},emit:function(e){var t=[].slice.call(arguments,1),n=((this.e||(this.e={}))[e]||[]).slice(),r=0,i=n.length;for(r;i>r;r++)n[r].fn.apply(n[r].ctx,t);return this},off:function(e,t){var n=this.e||(this.e={}),r=n[e],i=[];if(r&&t)for(var s=0,o=r.length;o>s;s++)r[s].fn!==t&&r[s].fn._!==t&&i.push(r[s]);return i.length?n[e]=i:delete n[e],this}},t.exports=r},{}],8:[function(t,n,r){!function(i,s){if("function"==typeof e&&e.amd)e(["module","select"],s);else if("undefined"!=typeof r)s(n,t("select"));else{var u={exports:{}};s(u,i.select),i.clipboardAction=u.exports}}(this,function(e,t){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var i=n(t),s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e},o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=function(){function e(t){r(this,e),this.resolveOptions(t),this.initSelection()}return e.prototype.resolveOptions=function(){var t=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];this.action=t.action,this.emitter=t.emitter,this.target=t.target,this.text=t.text,this.trigger=t.trigger,this.selectedText=""},e.prototype.initSelection=function(){this.text?this.selectFake():this.target&&this.selectTarget()},e.prototype.selectFake=function(){var t=this,n="rtl"==document.documentElement.getAttribute("dir");this.removeFake(),this.fakeHandlerCallback=function(){return t.removeFake()},this.fakeHandler=document.body.addEventListener("click",this.fakeHandlerCallback)||!0,this.fakeElem=document.createElement("textarea"),this.fakeElem.style.fontSize="12pt",this.fakeElem.style.border="0",this.fakeElem.style.padding="0",this.fakeElem.style.margin="0",this.fakeElem.style.position="absolute",this.fakeElem.style[n?"right":"left"]="-9999px",this.fakeElem.style.top=(window.pageYOffset||document.documentElement.scrollTop)+"px",this.fakeElem.setAttribute("readonly",""),this.fakeElem.value=this.text,document.body.appendChild(this.fakeElem),this.selectedText=(0,i.default)(this.fakeElem),this.copyText()},e.prototype.removeFake=function(){this.fakeHandler&&(document.body.removeEventListener("click",this.fakeHandlerCallback),this.fakeHandler=null,this.fakeHandlerCallback=null),this.fakeElem&&(document.body.removeChild(this.fakeElem),this.fakeElem=null)},e.prototype.selectTarget=function(){this.selectedText=(0,i.default)(this.target),this.copyText()},e.prototype.copyText=function(){var t=void 0;try{t=document.execCommand(this.action)}catch(n){t=!1}this.handleResult(t)},e.prototype.handleResult=function(t){t?this.emitter.emit("success",{action:this.action,text:this.selectedText,trigger:this.trigger,clearSelection:this.clearSelection.bind(this)}):this.emitter.emit("error",{action:this.action,trigger:this.trigger,clearSelection:this.clearSelection.bind(this)})},e.prototype.clearSelection=function(){this.target&&this.target.blur(),window.getSelection().removeAllRanges()},e.prototype.destroy=function(){this.removeFake()},o(e,[{key:"action",set:function(){var t=arguments.length<=0||void 0===arguments[0]?"copy":arguments[0];if(this._action=t,"copy"!==this._action&&"cut"!==this._action)throw new Error('Invalid "action" value, use either "copy" or "cut"')},get:function(){return this._action}},{key:"target",set:function(t){if(void 0!==t){if(!t||"object"!==("undefined"==typeof t?"undefined":s(t))||1!==t.nodeType)throw new Error('Invalid "target" value, use a valid Element');if("copy"===this.action&&t.hasAttribute("disabled"))throw new Error('Invalid "target" attribute. Please use "readonly" instead of "disabled" attribute');if("cut"===this.action&&(t.hasAttribute("readonly")||t.hasAttribute("disabled")))throw new Error('Invalid "target" attribute. You can\'t cut text from elements with "readonly" or "disabled" attributes');this._target=t}},get:function(){return this._target}}]),e}();e.exports=u})},{select:6}],9:[function(t,n,r){!function(i,s){if("function"==typeof e&&e.amd)e(["module","./clipboard-action","tiny-emitter","good-listener"],s);else if("undefined"!=typeof r)s(n,t("./clipboard-action"),t("tiny-emitter"),t("good-listener"));else{var u={exports:{}};s(u,i.clipboardAction,i.tinyEmitter,i.goodListener),i.clipboard=u.exports}}(this,function(e,t,n,r){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function a(e,t){var n="data-clipboard-"+e;if(t.hasAttribute(n))return t.getAttribute(n)}var f=i(t),l=i(n),c=i(r),h=function(e){function t(n,r){s(this,t);var i=o(this,e.call(this));return i.resolveOptions(r),i.listenClick(n),i}return u(t,e),t.prototype.resolveOptions=function(){var t=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];this.action="function"==typeof t.action?t.action:this.defaultAction,this.target="function"==typeof t.target?t.target:this.defaultTarget,this.text="function"==typeof t.text?t.text:this.defaultText},t.prototype.listenClick=function(t){var n=this;this.listener=(0,c.default)(t,"click",function(e){return n.onClick(e)})},t.prototype.onClick=function(t){var n=t.delegateTarget||t.currentTarget;this.clipboardAction&&(this.clipboardAction=null),this.clipboardAction=new f.default({action:this.action(n),target:this.target(n),text:this.text(n),trigger:n,emitter:this})},t.prototype.defaultAction=function(t){return a("action",t)},t.prototype.defaultTarget=function(t){var n=a("target",t);return n?document.querySelector(n):void 0},t.prototype.defaultText=function(t){return a("text",t)},t.prototype.destroy=function(){this.listener.destroy(),this.clipboardAction&&(this.clipboardAction.destroy(),this.clipboardAction=null)},t}(l.default);e.exports=h})},{"./clipboard-action":8,"good-listener":4,"tiny-emitter":7}]},{},[9])(9)}),jQuery.trumbowyg={langs:{en:{viewHTML:"View HTML",undo:"Undo",redo:"Redo",formatting:"Formatting",p:"Paragraph",blockquote:"Quote",code:"Code",header:"Header",bold:"Bold",italic:"Italic",strikethrough:"Stroke",underline:"Underline",strong:"Strong",em:"Emphasis",del:"Deleted",superscript:"Superscript",subscript:"Subscript",unorderedList:"Unordered list",orderedList:"Ordered list",insertImage:"Insert Image",link:"Link",createLink:"Insert link",unlink:"Remove link",justifyLeft:"Align Left",justifyCenter:"Align Center",justifyRight:"Align Right",justifyFull:"Align Justify",horizontalRule:"Insert horizontal rule",removeformat:"Remove format",fullscreen:"Fullscreen",close:"Close",submit:"Confirm",reset:"Cancel",required:"Required",description:"Description",title:"Title",text:"Text",target:"Target"}},plugins:{},svgPath:null},function(e,t,n,r){"use strict";r.fn.trumbowyg=function(e,t){var n="trumbowyg";if(e===Object(e)||!e)return this.each(function(){r(this).data(n)||r(this).data(n,new i(this,e))});if(this.length===1)try{var s=r(this).data(n);switch(e){case"execCmd":return s.execCmd(t.cmd,t.param,t.forceCss);case"openModal":return s.openModal(t.title,t.content);case"closeModal":return s.closeModal();case"openModalInsert":return s.openModalInsert(t.title,t.fields,t.callback);case"saveRange":return s.saveRange();case"getRange":return s.range;case"getRangeText":return s.getRangeText();case"restoreRange":return s.restoreRange();case"enable":return s.toggleDisable(!1);case"disable":return s.toggleDisable(!0);case"destroy":return s.destroy();case"empty":return s.empty();case"html":return s.html(t)}}catch(o){}return!1};var i=function(e,i){var s=this,o="trumbowyg-icons";s.doc=e.ownerDocument||n,s.$ta=r(e),s.$c=r(e),i=i||{},i.lang!=null||r.trumbowyg.langs[i.lang]!=null?s.lang=r.extend(!0,{},r.trumbowyg.langs.en,r.trumbowyg.langs[i.lang]):s.lang=r.trumbowyg.langs.en;var u=r.trumbowyg.svgPath!=null?r.trumbowyg.svgPath:i.svgPath;s.hasSvg=u!==!1,s.svgPath=s.doc.querySelector("base")?t.location:"";if(r("#"+o,s.doc).length===0&&u!==!1){if(u==null)try{throw new Error}catch(a){var f=a.stack.split("\n");for(var l in f){if(!f[l].match(/http[s]?:\/\//))continue;u=f[Number(l)].match(/((http[s]?:\/\/.+\/)([^\/]+\.js)):/)[1].split("/"),u.pop(),u=u.join("/")+"/ui/icons.svg";break}}var c=s.doc.createElement("div");c.id=o,s.doc.body.insertBefore(c,s.doc.body.childNodes[0]),r.get(u,function(e){c.innerHTML=(new XMLSerializer).serializeToString(e.documentElement)})}var h=s.lang.header,p=function(){return(t.chrome||t.Intl&&Intl.v8BreakIterator)&&"CSS"in t};s.btnsDef={viewHTML:{fn:"toggle"},undo:{isSupported:p,key:"Z"},redo:{isSupported:p,key:"Y"},p:{fn:"formatBlock"},blockquote:{fn:"formatBlock"},h1:{fn:"formatBlock",title:h+" 1"},h2:{fn:"formatBlock",title:h+" 2"},h3:{fn:"formatBlock",title:h+" 3"},h4:{fn:"formatBlock",title:h+" 4"},subscript:{tag:"sub"},superscript:{tag:"sup"},bold:{key:"B"},italic:{key:"I"},underline:{tag:"u"},strikethrough:{tag:"strike"},strong:{fn:"bold",key:"B"},em:{fn:"italic",key:"I"},del:{fn:"strikethrough"},createLink:{key:"K",tag:"a"},unlink:{},insertImage:{},justifyLeft:{tag:"left",forceCss:!0},justifyCenter:{tag:"center",forceCss:!0},justifyRight:{tag:"right",forceCss:!0},justifyFull:{tag:"justify",forceCss:!0},unorderedList:{fn:"insertUnorderedList",tag:"ul"},orderedList:{fn:"insertOrderedList",tag:"ol"},horizontalRule:{fn:"insertHorizontalRule"},removeformat:{},fullscreen:{"class":"trumbowyg-not-disable"},close:{fn:"destroy","class":"trumbowyg-not-disable"},formatting:{dropdown:["p","blockquote","h1","h2","h3","h4"],ico:"p"},link:{dropdown:["createLink","unlink"]}},s.o=r.extend(!0,{},{lang:"en",fixedBtnPane:!1,fixedFullWidth:!1,autogrow:!1,prefix:"trumbowyg-",semantic:!0,resetCss:!1,removeformatPasted:!1,tagsToRemove:[],btnsGrps:{design:["bold","italic","underline","strikethrough"],semantic:["strong","em","del"],justify:["justifyLeft","justifyCenter","justifyRight","justifyFull"],lists:["unorderedList","orderedList"]},btns:[["viewHTML"],["undo","redo"],["formatting"],"btnGrp-semantic",["superscript","subscript"],["link"],["insertImage"],"btnGrp-justify","btnGrp-lists",["horizontalRule"],["removeformat"],["fullscreen"]],btnsDef:{},inlineElementsSelector:"a,abbr,acronym,b,caption,cite,code,col,dfn,dir,dt,dd,em,font,hr,i,kbd,li,q,span,strikeout,strong,sub,sup,u",pasteHandlers:[],imgDblClickHandler:function(){var e=r(this),t=e.attr("src"),n="(Base64)";return t.indexOf("data:image")===0&&(t=n),s.openModalInsert(s.lang.insertImage,{url:{label:"URL",value:t,required:!0},alt:{label:s.lang.description,value:e.attr("alt")}},function(t){return t.src!==n&&e.attr({src:t.src}),e.attr({alt:t.alt}),!0}),!1},plugins:{}},i),s.disabled=s.o.disabled||e.nodeName==="TEXTAREA"&&e.disabled,i.btns?s.o.btns=i.btns:s.o.semantic||(s.o.btns[4]="btnGrp-design"),r.each(s.o.btnsDef,function(e,t){s.addBtnDef(e,t)}),s.keys=[],s.tagToButton={},s.tagHandlers=[],s.pasteHandlers=[].concat(s.o.pasteHandlers),s.init()};i.prototype={init:function(){var e=this;e.height=e.$ta.height(),e.initPlugins(),e.doc.execCommand("enableObjectResizing",!1,!1),e.doc.execCommand("defaultParagraphSeparator",!1,"p"),e.buildEditor(),e.buildBtnPane(),e.fixedBtnPaneEvents(),e.buildOverlay(),setTimeout(function(){e.disabled&&e.toggleDisable(!0),e.$c.trigger("tbwinit")})},addBtnDef:function(e,t){this.btnsDef[e]=t},buildEditor:function(){var e=this,n=e.o.prefix,i="";e.$box=r("<div/>",{"class":n+"box "+n+"editor-visible "+n+e.o.lang+" trumbowyg"}),e.isTextarea=e.$ta.is("textarea"),e.isTextarea?(i=e.$ta.val(),e.$ed=r("<div/>"),e.$box.insertAfter(e.$ta).append(e.$ed,e.$ta)):(e.$ed=e.$ta,i=e.$ed.html(),e.$ta=r("<textarea/>",{name:e.$ta.attr("id"),height:e.height}).val(i),e.$box.insertAfter(e.$ed).append(e.$ta,e.$ed),e.syncCode()),e.$ta.addClass(n+"textarea").attr("tabindex",-1),e.$ed.addClass(n+"editor").attr({contenteditable:!0,dir:e.lang._dir||"ltr"}).html(i),e.o.tabindex&&e.$ed.attr("tabindex",e.o.tabindex),e.$c.is("[placeholder]")&&e.$ed.attr("placeholder",e.$c.attr("placeholder")),e.o.resetCss&&e.$ed.addClass(n+"reset-css"),e.o.autogrow||e.$ta.add(e.$ed).css({height:e.height}),e.semanticCode(),e._ctrl=!1,e.$ed.on("dblclick","img",e.o.imgDblClickHandler).on("keydown",function(t){e._composition=t.which===229;if(t.ctrlKey){e._ctrl=!0;var n=e.keys[String.fromCharCode(t.which).toUpperCase()];try{return e.execCmd(n.fn,n.param),!1}catch(r){}}}).on("keyup",function(t){if(t.which>=37&&t.which<=40)return;!t.ctrlKey||t.which!==89&&t.which!==90?!e._ctrl&&t.which!==17&&!e._composition&&(e.semanticCode(!1,t.which===13),e.$c.trigger("tbwchange")):e.$c.trigger("tbwchange"),setTimeout(function(){e._ctrl=!1},200)}).on("mouseup keydown keyup",function(){e.updateButtonPaneStatus()}).on("focus blur",function(t){e.$c.trigger("tbw"+t.type),t.type==="blur"&&r("."+n+"active-button",e.$btnPane).removeClass(n+"active-button "+n+"active")}).on("cut",function(){e.$c.trigger("tbwchange")}).on("paste",function(n){if(e.o.removeformatPasted){n.preventDefault();try{var i=t.clipboardData.getData("Text");try{e.doc.selection.createRange().pasteHTML(i)}catch(s){e.doc.getSelection().getRangeAt(0).insertNode(e.doc.createTextNode(i))}}catch(o){e.execCmd("insertText",(n.originalEvent||n).clipboardData.getData("text/plain"))}}r.each(e.pasteHandlers,function(e,t){t(n)}),setTimeout(function(){e.o.semantic?e.semanticCode(!1,!0):e.syncCode(),e.$c.trigger("tbwpaste",n)},0)}),e.$ta.on("keyup paste",function(){e.$c.trigger("tbwchange")}),r(e.doc).on("keydown",function(t){if(t.which===27)return e.closeModal(),!1})},buildBtnPane:function(){var e=this,t=e.o.prefix,n=e.$btnPane=r("<div/>",{"class":t+"button-pane"});r.each(e.o.btns,function(i,s){try{var o=s.split("btnGrp-");o[1]!=null&&(s=e.o.btnsGrps[o[1]])}catch(u){}r.isArray(s)||(s=[s]);var a=r("<div/>",{"class":t+"button-group "+(s.indexOf("fullscreen")>=0?t+"right":"")});r.each(s,function(t,n){try{var r;e.isSupportedBtn(n)&&(r=e.buildBtn(n)),a.append(r)}catch(i){}}),n.append(a)}),e.$box.prepend(n)},buildBtn:function(e){var t=this,n=t.o.prefix,i=t.btnsDef[e],s=i.dropdown,o=t.lang[e]||e,u=r("<button/>",{type:"button","class":n+e+"-button "+(i.class||""),html:t.hasSvg?'<svg><use xlink:href="'+t.svgPath+"#"+n+(i.ico||e).replace(/([A-Z]+)/g,"-$1").toLowerCase()+'"/></svg>':"",title:(i.title||i.text||o)+(i.key?" (Ctrl + "+i.key+")":""),tabindex:-1,mousedown:function(){return(!s||r("."+e+"-"+n+"dropdown",t.$box).is(":hidden"))&&r("body",t.doc).trigger("mousedown"),t.$btnPane.hasClass(n+"disable")&&!r(this).hasClass(n+"active")&&!r(this).hasClass(n+"not-disable")?!1:(t.execCmd((s?"dropdown":!1)||i.fn||e,i.param||e,i.forceCss||!1),!1)}});if(s){u.addClass(n+"open-dropdown");var a=n+"dropdown",f=r("<div/>",{"class":a+"-"+e+" "+a+" "+n+"fixed-top","data-dropdown":e});r.each(s,function(e,n){t.btnsDef[n]&&t.isSupportedBtn(n)&&f.append(t.buildSubBtn(n))}),t.$box.append(f.hide())}else i.key&&(t.keys[i.key]={fn:i.fn||e,param:i.param||e});return s||(t.tagToButton[(i.tag||e).toLowerCase()]=e),u},buildSubBtn:function(e){var t=this,n=t.o.prefix,i=t.btnsDef[e];return i.key&&(t.keys[i.key]={fn:i.fn||e,param:i.param||e}),t.tagToButton[(i.tag||e).toLowerCase()]=e,r("<button/>",{type:"button","class":n+e+"-dropdown-button"+(i.ico?" "+n+i.ico+"-button":""),html:t.hasSvg?'<svg><use xlink:href="'+t.svgPath+"#"+n+(i.ico||e).replace(/([A-Z]+)/g,"-$1").toLowerCase()+'"/></svg>'+(i.text||i.title||t.lang[e]||e):"",title:i.key?" (Ctrl + "+i.key+")":null,style:i.style||null,mousedown:function(){return r("body",t.doc).trigger("mousedown"),t.execCmd(i.fn||e,i.param||e,i.forceCss||!1),!1}})},isSupportedBtn:function(e){try{return this.btnsDef[e].isSupported()}catch(t){}return!0},buildOverlay:function(){var e=this;return e.$overlay=r("<div/>",{"class":e.o.prefix+"overlay"}).css({top:e.$btnPane.outerHeight
(),height:e.$ed.outerHeight()+1+"px"}).appendTo(e.$box),e.$overlay},showOverlay:function(){var e=this;r(t).trigger("scroll"),e.$overlay.fadeIn(200),e.$box.addClass(e.o.prefix+"box-blur")},hideOverlay:function(){var e=this;e.$overlay.fadeOut(50),e.$box.removeClass(e.o.prefix+"box-blur")},fixedBtnPaneEvents:function(){var e=this,n=e.o.fixedFullWidth,i=e.$box;if(!e.o.fixedBtnPane)return;e.isFixed=!1,r(t).on("scroll resize",function(){if(!i)return;e.syncCode();var s=r(t).scrollTop(),o=i.offset().top+1,u=e.$btnPane,a=u.outerHeight()-2;s-o>0&&s-o-e.height<0?(e.isFixed||(e.isFixed=!0,u.css({position:"fixed",top:0,left:n?"0":"auto",zIndex:7}),r([e.$ta,e.$ed]).css({marginTop:u.height()})),u.css({width:n?"100%":i.width()-1+"px"}),r("."+e.o.prefix+"fixed-top",i).css({position:n?"fixed":"absolute",top:n?a:a+(s-o)+"px",zIndex:15})):e.isFixed&&(e.isFixed=!1,u.removeAttr("style"),r([e.$ta,e.$ed]).css({marginTop:0}),r("."+e.o.prefix+"fixed-top",i).css({position:"absolute",top:a}))})},toggleDisable:function(e){var t=this,n=t.o.prefix;t.disabled=e,e?t.$ta.attr("disabled",!0):t.$ta.removeAttr("disabled"),t.$box.toggleClass(n+"disabled",e),t.$ed.attr("contenteditable",!e)},destroy:function(){var e=this,t=e.o.prefix,n=e.height;e.isTextarea?e.$box.after(e.$ta.css({height:n}).val(e.html()).removeClass(t+"textarea").show()):e.$box.after(e.$ed.css({height:n}).removeClass(t+"editor").removeAttr("contenteditable").html(e.html()).show()),e.$ed.off("dblclick","img"),e.destroyPlugins(),e.$box.remove(),e.$c.removeData("trumbowyg"),r("body").removeClass(t+"body-fullscreen")},empty:function(){this.$ta.val(""),this.syncCode(!0)},toggle:function(){var e=this,t=e.o.prefix;e.semanticCode(!1,!0),setTimeout(function(){e.doc.activeElement.blur(),e.$box.toggleClass(t+"editor-hidden "+t+"editor-visible"),e.$btnPane.toggleClass(t+"disable"),r("."+t+"viewHTML-button",e.$btnPane).toggleClass(t+"active"),e.$box.hasClass(t+"editor-visible")?e.$ta.attr("tabindex",-1):e.$ta.removeAttr("tabindex")},0)},dropdown:function(e){var n=this,i=n.doc,s=n.o.prefix,o=r("[data-dropdown="+e+"]",n.$box),u=r("."+s+e+"-button",n.$btnPane),a=o.is(":hidden");r("body",i).trigger("mousedown");if(a){var f=u.offset().left;u.addClass(s+"active"),o.css({position:"absolute",top:u.offset().top-n.$btnPane.offset().top+u.outerHeight(),left:n.o.fixedFullWidth&&n.isFixed?f+"px":f-n.$btnPane.offset().left+"px"}).show(),r(t).trigger("scroll"),r("body",i).on("mousedown",function(){r("."+s+"dropdown",i).hide(),r("."+s+"active",i).removeClass(s+"active"),r("body",i).off("mousedown")})}},html:function(e){var t=this;return e!=null?(t.$ta.val(e),t.syncCode(!0),t):t.$ta.val()},syncTextarea:function(){var e=this;e.$ta.val(e.$ed.text().trim().length>0||e.$ed.find("hr,img,embed,input").length>0?e.$ed.html():"")},syncCode:function(e){var t=this;!e&&t.$ed.is(":visible")?t.syncTextarea():t.$ed.html(t.$ta.val()),t.o.autogrow&&(t.height=t.$ed.height(),t.height!==t.$ta.css("height")&&(t.$ta.css({height:t.height}),t.$c.trigger("tbwresize")))},semanticCode:function(e,t){var n=this;n.saveRange(),n.syncCode(e),r(n.o.tagsToRemove.join(","),n.$ed).remove();if(n.o.semantic){n.semanticTag("b","strong"),n.semanticTag("i","em"),n.semanticTag("strike","del");if(t){var i=n.o.inlineElementsSelector,s=":not("+i+")";n.$ed.contents().filter(function(){return this.nodeType===3&&this.nodeValue.trim().length>0}).wrap("<span data-tbw/>");var o=function(e){if(e.length!==0){var t=e.nextUntil(s).andSelf().wrapAll("<p/>").parent(),n=t.nextAll(i).first();t.next("br").remove(),o(n)}};o(n.$ed.children(i).first()),n.semanticTag("div","p",!0),n.$ed.find("p").filter(function(){return n.range&&this===n.range.startContainer?!1:r(this).text().trim().length===0&&r(this).children().not("br,span").length===0}).contents().unwrap(),r("[data-tbw]",n.$ed).contents().unwrap(),n.$ed.find("p:empty").remove()}n.restoreRange(),n.syncTextarea()}},semanticTag:function(e,t,n){r(e,this.$ed).each(function(){var e=r(this);e.wrap("<"+t+"/>"),n&&r.each(e.prop("attributes"),function(){e.parent().attr(this.name,this.value)}),e.contents().unwrap()})},createLink:function(){var e=this,t=e.doc.getSelection(),n=t.focusNode,i,s,o;while(["A","DIV"].indexOf(n.nodeName)<0)n=n.parentNode;if(n&&n.nodeName==="A"){var u=r(n);i=u.attr("href"),s=u.attr("title"),o=u.attr("target");var a=e.doc.createRange();a.selectNode(n),t.addRange(a)}e.saveRange(),e.openModalInsert(e.lang.createLink,{url:{label:"URL",required:!0,value:i},title:{label:e.lang.title,value:s},text:{label:e.lang.text,value:e.getRangeText()},target:{label:e.lang.target,value:o}},function(t){var n=r(['<a href="',t.url,'">',t.text,"</a>"].join(""));return t.title.length>0&&n.attr("title",t.title),t.target.length>0&&n.attr("target",t.target),e.range.deleteContents(),e.range.insertNode(n[0]),!0})},unlink:function(){var e=this,t=e.doc.getSelection(),n=t.focusNode;if(t.isCollapsed){while(["A","DIV"].indexOf(n.nodeName)<0)n=n.parentNode;if(n&&n.nodeName==="A"){var r=e.doc.createRange();r.selectNode(n),t.addRange(r)}}e.execCmd("unlink",undefined,undefined,!0)},insertImage:function(){var e=this;e.saveRange(),e.openModalInsert(e.lang.insertImage,{url:{label:"URL",required:!0},alt:{label:e.lang.description,value:e.getRangeText()}},function(t){return e.execCmd("insertImage",t.url),r('img[src="'+t.url+'"]:not([alt])',e.$box).attr("alt",t.alt),!0})},fullscreen:function(){var e=this,n=e.o.prefix,i=n+"fullscreen",s;e.$box.toggleClass(i),s=e.$box.hasClass(i),r("body").toggleClass(n+"body-fullscreen",s),r(t).trigger("scroll"),e.$c.trigger("tbw"+(s?"open":"close")+"fullscreen")},execCmd:function(t,n,r,i){var s=this;i=!!i||"",t!=="dropdown"&&s.$ed.focus(),s.doc.execCommand("styleWithCSS",!1,r||!1);try{s[t+i](n)}catch(o){try{t(n)}catch(u){t==="insertHorizontalRule"?n=undefined:t==="formatBlock"&&(e.userAgent.indexOf("MSIE")!==-1||e.appVersion.indexOf("Trident/")!==-1)&&(n="<"+n+">"),s.doc.execCommand(t,!1,n),s.syncCode(),s.semanticCode(!1,!0)}t!=="dropdown"&&(s.updateButtonPaneStatus(),s.$c.trigger("tbwchange"))}},openModal:function(e,n){var i=this,s=i.o.prefix;if(r("."+s+"modal-box",i.$box).length>0)return!1;i.saveRange(),i.showOverlay(),i.$btnPane.addClass(s+"disable");var o=r("<div/>",{"class":s+"modal "+s+"fixed-top"}).css({top:i.$btnPane.height()}).appendTo(i.$box);i.$overlay.one("click",function(){return o.trigger("tbwcancel"),!1});var u=r("<form/>",{action:"",html:n}).on("submit",function(){return o.trigger("tbwconfirm"),!1}).on("reset",function(){return o.trigger("tbwcancel"),!1}),a=r("<div/>",{"class":s+"modal-box",html:u}).css({top:"-"+i.$btnPane.outerHeight()+"px",opacity:0}).appendTo(o).animate({top:0,opacity:1},100);return r("<span/>",{text:e,"class":s+"modal-title"}).prependTo(a),o.height(a.outerHeight()+10),r("input:first",a).focus(),i.buildModalBtn("submit",a),i.buildModalBtn("reset",a),r(t).trigger("scroll"),o},buildModalBtn:function(e,t){var n=this,i=n.o.prefix;return r("<button/>",{"class":i+"modal-button "+i+"modal-"+e,type:e,text:n.lang[e]||e}).appendTo(r("form",t))},closeModal:function(){var e=this,t=e.o.prefix;e.$btnPane.removeClass(t+"disable"),e.$overlay.off();var n=r("."+t+"modal-box",e.$box);n.animate({top:"-"+n.height()},100,function(){n.parent().remove(),e.hideOverlay()}),e.restoreRange()},openModalInsert:function(e,t,n){var i=this,s=i.o.prefix,o=i.lang,u="",a="tbwconfirm";return r.each(t,function(e,t){var n=t.label,r=t.name||e;u+='<label><input type="'+(t.type||"text")+'" name="'+r+'" value="'+(t.value||"").replace(/"/g,"&quot;")+'"><span class="'+s+'input-infos"><span>'+(n?o[n]?o[n]:n:o[e]?o[e]:e)+"</span></span></label>"}),i.openModal(e,u).on(a,function(){var e=r("form",r(this)),s=!0,o={};r.each(t,function(t,n){var u=r('input[name="'+t+'"]',e);o[t]=r.trim(u.val()),n.required&&o[t]===""?(s=!1,i.addErrorOnModalField(u,i.lang.required)):n.pattern&&!n.pattern.test(o[t])&&(s=!1,i.addErrorOnModalField(u,n.patternError))}),s&&(i.restoreRange(),n(o,t)&&(i.syncCode(),i.$c.trigger("tbwchange"),i.closeModal(),r(this).off(a)))}).one("tbwcancel",function(){r(this).off(a),i.closeModal()})},addErrorOnModalField:function(e,t){var n=this.o.prefix,i=e.parent();e.on("change keyup",function(){i.removeClass(n+"input-error")}),i.addClass(n+"input-error").find("input+span").append(r("<span/>",{"class":n+"msg-error",text:t}))},saveRange:function(){var e=this,t=e.doc.getSelection();e.range=null;if(t.rangeCount){var n=e.range=t.getRangeAt(0),r=e.doc.createRange(),i;r.selectNodeContents(e.$ed[0]),r.setEnd(n.startContainer,n.startOffset),i=(r+"").length,e.metaRange={start:i,end:i+(n+"").length}}},restoreRange:function(){var e=this,t=e.metaRange,n=e.range,r=e.doc.getSelection(),i;if(!n)return;if(t&&t.start!==t.end){var s=0,o=[e.$ed[0]],u,a=!1,f=!1;i=e.doc.createRange();while(!f&&(u=o.pop()))if(u.nodeType===3){var l=s+u.length;!a&&t.start>=s&&t.start<=l&&(i.setStart(u,t.start-s),a=!0),a&&t.end>=s&&t.end<=l&&(i.setEnd(u,t.end-s),f=!0),s=l}else{var c=u.childNodes,h=c.length;while(h>0)h-=1,o.push(c[h])}}r.removeAllRanges(),r.addRange(i||n)},getRangeText:function(){return this.range+""},updateButtonPaneStatus:function(){var e=this,t=e.o.prefix,n=e.getTagsRecursive(e.doc.getSelection().focusNode.parentNode),i=t+"active-button "+t+"active";r("."+t+"active-button",e.$btnPane).removeClass(i),r.each(n,function(n,s){var o=e.tagToButton[s.toLowerCase()],u=r("."+t+o+"-button",e.$btnPane);if(u.length>0)u.addClass(i);else try{u=r("."+t+"dropdown ."+t+o+"-dropdown-button",e.$box);var a=u.parent().data("dropdown");r("."+t+a+"-button",e.$box).addClass(i)}catch(f){}})},getTagsRecursive:function(e,t){var n=this;t=t||[];var i=e.tagName;return i==="DIV"?t:(i==="P"&&e.style.textAlign!==""&&t.push(e.style.textAlign),r.each(n.tagHandlers,function(r,i){t=t.concat(i(e,n))}),t.push(i),n.getTagsRecursive(e.parentNode,t))},initPlugins:function(){var e=this;e.loadedPlugins=[],r.each(r.trumbowyg.plugins,function(t,n){if(!n.shouldInit||n.shouldInit(e))n.init(e),n.tagHandler&&e.tagHandlers.push(n.tagHandler),e.loadedPlugins.push(n)})},destroyPlugins:function(){r.each(this.loadedPlugins,function(e,t){t.destroy&&t.destroy()})}}}(navigator,window,document,jQuery),function(e){"use strict";function n(e,t){var r=t.shift(),i=t;if(e!==null){if(i.length===0)return e[r];if(typeof e=="object")return n(e[r],i)}return e}function r(){if(!e.trumbowyg&&!e.trumbowyg.addedXhrProgressEvent){var t=e.ajaxSettings.xhr;e.ajaxSetup({xhr:function(){var e=t(),n=this;return e&&typeof e.upload=="object"&&n.progressUpload!==undefined&&e.upload.addEventListener("progress",function(e){n.progressUpload(e)},!1),e}}),e.trumbowyg.addedXhrProgressEvent=!0}}var t={serverPath:"./src/plugins/upload/trumbowyg.upload.php",fileFieldName:"fileToUpload",data:[],headers:{},xhrFields:{},urlPropertyName:"file",statusPropertyName:"success",success:undefined,error:undefined};r(),e.extend(!0,e.trumbowyg,{langs:{en:{upload:"Upload",file:"File",uploadError:"Error"},sk:{upload:"Nahra",file:"Sbor",uploadError:"Chyba"},fr:{upload:"Envoi",file:"Fichier",uploadError:"Erreur"},cs:{upload:"Nahrt obrzek",file:"Soubor",uploadError:"Chyba"},zh_cn:{upload:"",file:"",uploadError:""}},plugins:{upload:{init:function(r){r.o.plugins.upload=e.extend(!0,{},t,r.o.plugins.upload||{});var i={fn:function(){r.saveRange();var t,i=r.o.prefix,s=r.openModalInsert(r.lang.upload,{file:{type:"file",required:!0},alt:{label:"description",value:r.getRangeText()}},function(o){var u=new FormData;u.append(r.o.plugins.upload.fileFieldName,t),r.o.plugins.upload.data.map(function(e){u.append(e.name,e.value)}),e("."+i+"progress",s).length===0&&e("."+i+"modal-title",s).after(e("<div/>",{"class":i+"progress"}).append(e("<div/>",{"class":i+"progress-bar"}))),e.ajax({url:r.o.plugins.upload.serverPath,headers:r.o.plugins.upload.headers,xhrFields:r.o.plugins.upload.xhrFields,type:"POST",data:u,cache:!1,dataType:"json",processData:!1,contentType:!1,progressUpload:function(t){e("."+i+"progress-bar").stop().animate({width:Math.round(t.loaded*100/t.total)+"%"},200)},success:r.o.plugins.upload.success||function(t){if(!n(t,r.o.plugins.upload.statusPropertyName.split(".")))r.addErrorOnModalField(e("input[type=file]",s),r.lang[t.message]);else{var i=n(t,r.o.plugins.upload.urlPropertyName.split("."));r.execCmd("insertImage",i),e('img[src="'+i+'"]:not([alt])',r.$box).attr("alt",o.alt),setTimeout(function(){r.closeModal()},250)}},error:r.o.plugins.upload.error||function(){r.addErrorOnModalField(e("input[type=file]",s),r.lang.uploadError)}})});e("input[type=file]").on("change",function(e){try{t=e.target.files[0]}catch(n){t=e.target.value}})}};r.addBtnDef("upload",i)}}}})}(jQuery),function(e){jQuery.event.special.destroyed={remove:function(e){e.handler&&e.handler()}}}(jQuery),$(function(){setTimeout("$('.flash-notice').slideUp()",3e3),$(".tabs").tabs(),$(".tagger").tagger(),$("form").bind("keyup",function(e){if(e.keyCode==13&&$(e.originalTarget).is(":input:not(textarea)"))return $(this).submit(),!1}),$("#toggle_cancel_subscription").click(function(){return $("#cancel_subscription").show(),$(this).hide(),!1}),$(".top-banner").each(function(){$.cookies.get("hideTopBanner")!="1"&&$(this).show()}),$(".requestPayment").live("click",function(e){$("#paymentRequest").show(),$(this).hide(),e.preventDefault()}),$("#paymentRequest form").live("submit",function(e){var t=$(this).children("input[type=text]");t.length!=0&&!t.attr("value")&&e.preventDefault()}),$("#video-form").submit(function(){if($(this).find("input[type=file]").val()=="")return alert("Please select a video file to upload"),!1;$(this).hide(),$("#waiting").show()}),$(".toggler").live("click",function(e){e.preventDefault(),$(this).hasClass("active")?($(this).removeClass("active"),$(this).attr("data-label-inactive")&&$(this).html($(this).attr("data-label-inactive")),$(this).find("span.active").hide(),$(this).find("span.inactive").show(),$("#"+$(this).attr("rel")).hide()):($(this).addClass("active"),$(this).attr("data-label-active")&&$(this).html($(this).attr("data-label-active")),$(this).find("span.active").show(),$(this).find("span.inactive").hide(),$("#"+$(this).attr("rel")).show())}),$(".toggle-and-remove").live("click",function(e){e.preventDefault(),$("#"+$(this).attr("rel")).show(),$(this).remove()}),$("div.autopop").lightbox_me({closeEsc:!1,closeClick:!1}),$("input[placeholder]").placeholder(),$("#locale_switcher").change(function(){window.location.href=$(this).val()}),$("a.submit").live("click",function(e){e.preventDefault(),$(this).closest("form").submit()}),$("input[type=submit]").click(function(e){$(this).hasClass("disabled")&&e.preventDefault()}),$("input[data-toggles-on], input[data-toggles-off]").each(function(e){var t=$(this).attr("checked"),n=$(this).data("toggles-on")||$(this).data("toggles-off");$(this).data("toggles-off")&&(t=t?!1:!0),t?$(n).show():$(n).hide(),$(this).bind("change",function(e){$(n).toggle()})}),$("input[data-toggles]").each(function(e){var t=$(this).attr("checked"),n=$(this).data("toggles");$(this).bind("change",function(e){$(n).toggle()})}),$("[data-show]").live("click",function(e){$($(this).data("show")).show(),e.preventDefault()}),$("[data-hide]").live("click",function(e){$($(this).data("hide")).hide(),e.preventDefault()}),$("[data-remove]").live("click",function(e){$($(this).data("remove")).remove(),e.preventDefault()}),$(".toggle-checkboxes").live("click",function(){$(this).parents("table").find(":checkbox").not(this).click()}),$(".toggle-row").live("change",function(){$(this).is(":checked")?$(this).parents("tr").addClass("selected"):$(this).parents("tr").removeClass("selected")}),$("a.login-link").click(function(e){$(".resource-download-link").hide()}),$("a.reset-password-link").click(function(e){$(".resource-download-link").hide()}),$("a.signup-link").click(function(e){$(".resource-download-link").hide(),track("authentication","enter_signup_popup")}),$("a.fave.unauthorized").click(function(e){$(".resource-download-link").hide()}),$(".require-logged-in").live("click",function(e){$(".resource-download-link").hide(),$(this).blur()}),$("a.download-resource-link").live("click",function(e){$(".resource-download-link").show().removeClass("hidden")}),$("[rel=lightbox]").live("click",function(e){var t=$(this).data("target");t!=undefined&&$("#"+t).lightbox_me({closeClick:!1,centered:!0,closeSelector:"[rel=close]",onLoad:function(){$("#"+t+" input[placeholder]").placeholder()}}),e.preventDefault()}),$("[rel=lightbox-image]").live("click",function(e){e.preventDefault();var t=$(this).attr("href");t!=undefined&&$("<img src='"+t+"'/>").lightbox_me({destroyOnClose:!0})}),$("[rel=close]").on("click",function(){console.log("close clicked"),$(".js_lb_overlay").remove()}),$(".collapsible:not(.open)>div").hide(),$(".collapsible .toggle").on("click",function(e){var t=document.body.scrollTop;return $(this).next().slideToggle("fast"),$(this).parent(".collapsible").toggleClass("open"),window.location.hash=$(this).parent().attr("id"),document.body.scrollTop=t,!1}),$(".collapsible").length>0&&window.location.hash!=""&&$(window.location.hash+">div").show().parent(".collapsible").addClass("open"),$("#join-newsletter-popup").lightbox_me({onLoad:function(){track("pop_up_triggered","join_the_newsletter",undefined)}}),$("#resource_confirm").click(function(e){$(this).attr("checked")?$("#resource_submit").removeClass("disabled"):$("#resource_submit").addClass("disabled")}),$(".flash-news .close").live("click",function(e){setLnb(),$(".flash-news").hide(),e.preventDefault()}),initSpinner(),$(document).on("ajax:beforeSend",'[data-remote]:not(".inline-spinner")',function(e){showSpinner(),e.stopPropagation(),$(this).on("destroyed",function(e){hideSpinner()})}),$(document).on("ajax:complete",'[data-remote]:not(".inline-spinner")',function(e){hideSpinner()}),$(document).on("ajax:beforeSend",".inline-spinner",function(e){$(this).addClass("waiting"),$(this).on("destroyed",function(e){$(this).removeClass("waiting")})}),$(document).on("ajax:complete",".inline-spinner",function(e){$(this).removeClass("waiting")}),new Clipboard(".copyright-link-wrapper"),$(document).on("click",".copyright-link-wrapper",function(e){function t(){setTimeout(function(){$(".copyright-link-wrapper .copied").addClass("show-copied")},100),setTimeout(function(){$(".copyright-link-wrapper .copied").addClass("float-away-copied")},2e3),setTimeout(function(){$(".copyright-link-wrapper .copied").removeClass("float-away-copied show-copied")},3e3)}t()}),$("#copyright-link").on("click",function(){document.execCommand("selectAll",!1,null)}),$(".more-languages > a").on("click",function(e){e.preventDefault(),$(".more-languages").toggleClass("show-langs"),$(".more-languages__overlay").fadeIn()}),$(".more-languages__overlay").on("click",function(e){$(this).fadeOut(),$(".more-languages").removeClass("show-langs")})}),$(window).load(function(){window.ads=[],$(".adunit:visible").dfp({dfpID:"1021447",refreshExisting:!1,sizeMapping:{"show-right-top":[{browser:[992,0],ad_sizes:[[300,250],[1,1]]},{browser:[768,0],ad_sizes:[[300,250],[1,1]]},{browser:[320,0],ad_sizes:[[320,100],[1,1]]},{browser:[0,0],ad_sizes:[[320,100],[1,1]]}],"show-right-bottom":[{browser:[992,0],ad_sizes:[[300,250],[1,1]]},{browser:[768,0],ad_sizes:[[300,250],[1,1]]}],"show-bottom":[{browser:[992,0],ad_sizes:[[728,90],[1,1]]},{browser:[768,0],ad_sizes:[[728,90],[1,1]]},{browser:[320,0],ad_sizes:[[320,100],[1,1]]},{browser:[0,0],ad_sizes:[[320,100],[1,1]]}],"member-right-top":[{browser:[992,0],ad_sizes:[[300,250],[1,1]]},{browser:[768,0],ad_sizes:[[300,250],[1,1]]},{browser:[320,0],ad_sizes:[[320,100],[1,1]]},{browser:[0,0],ad_sizes:[[320,100],[1,1]]}],"member-right-bottom":[{browser:[992,0],ad_sizes:[[300,250],[1,1]]},{browser:[768,0],ad_sizes:[[300,250],[1,1]]},{browser:[320,0],ad_sizes:[[320,100],[1,1]]},{browser:[0,0],ad_sizes:[[320,100],[1,1]]}],"member-bottom":[{browser:[992,0],ad_sizes:[[970,250],[1,1]]},{browser:[768,0],ad_sizes:[[728,90],[1,1]]},{browser:[320,0],ad_sizes:[[320,100],[1,1]]},{browser:[0,0],ad_sizes:[[320,100],[1,1]]}],"themezy-homepage-bottom":[{browser:[992,0],ad_sizes:[[970,250],[1,1]]},{browser:[768,0],ad_sizes:[[970,250],[1,1]]},{browser:[320,0],ad_sizes:[[320,100],[1,1]]},{browser:[0,0],ad_sizes:[[320,100],[1,1]]}],"themezy-show-bottom":[{browser:[992,0],ad_sizes:[[970,250],[1,1]]},{browser:[768,0],ad_sizes:[[970,250],[1,1]]},{browser:[320,0],ad_sizes:[[320,100],[1,1]]},{browser:[0,0],ad_sizes:[[320,100],[1,1]]}],"themezy-show-right-top":[{browser:[992,0],ad_sizes:[[300,250],[1,1]]},{browser:[768,0],ad_sizes:[[300,250],[1,1]]},{browser:[320,0],ad_sizes:[[320,100],[1,1]]},{browser:[0,0],ad_sizes:[[320,100],[1,1]]}],"themezy-show-right-top-2":[{browser:[992,0],ad_sizes:[[300,250],[1,1]]},{browser:[768,0],ad_sizes:[[300,250],[1,1]]},{browser:[320,0],ad_sizes:[[320,100],[1,1]]},{browser:[0,0],ad_sizes:[[320,100],[1,1]]}],"videezy-homepage-bottom":[{browser:[992,0],ad_sizes:[[970,250],[1,1]]},{browser:[768,0],ad_sizes:[[970,250],[1,1]]},{browser:[320,0],ad_sizes:[[320,100],[1,1]]},{browser:[0,0],ad_sizes:[[320,100],[1,1]]}],"videezy-show-bottom":[{browser:[992,0],ad_sizes:[[970,250],[1,1]]},{browser:[768,0],ad_sizes:[[970,250],[1,1]]},{browser:[320,0],ad_sizes:[[320,100],[1,1]]},{browser:[0,0],ad_sizes:[[320,100],[1,1]]}],"videezy-show-right-top":[{browser:[992,0],ad_sizes:[[300,250],[1,1]]},{browser:[768,0],ad_sizes:[[300,250],[1,1]]},{browser:[320,0],ad_sizes:[[320,100],[1,1]]},{browser:[0,0],ad_sizes:[[320,100],[1,1]]}],"searchpage-leftside":[{browser:[992,0],ad_sizes:[[160,600],[1,1]]},{browser:[768,0],ad_sizes:[[160,600],[1,1]]}]},afterEachAdLoaded:function(e){window.ads.push(e.attr("id"))}})}),$(function(){$("#search-suggestion-link").click(function(e){e.preventDefault();var t=$(this).attr("data-suggestion-id"),n="/clicks/suggestion/"+t+"/increment",r=$(this).attr("data-url");$.post(n).done(function(){window.location.href=r})})});